{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fastDeepEqual = require('fast-deep-equal');\n\nvar _fastDeepEqual2 = _interopRequireDefault(_fastDeepEqual);\n\nvar _sizeSensor = require('size-sensor');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar EchartsReactCore = function (_Component) {\n  _inherits(EchartsReactCore, _Component);\n\n  function EchartsReactCore(props) {\n    _classCallCheck(this, EchartsReactCore);\n\n    var _this = _possibleConstructorReturn(this, (EchartsReactCore.__proto__ || Object.getPrototypeOf(EchartsReactCore)).call(this, props));\n\n    _this.getEchartsInstance = function () {\n      return _this.echartsLib.getInstanceByDom(_this.echartsElement) || _this.echartsLib.init(_this.echartsElement, _this.props.theme, _this.props.opts);\n    };\n\n    _this.dispose = function () {\n      if (_this.echartsElement) {\n        try {\n          (0, _sizeSensor.clear)(_this.echartsElement);\n        } catch (e) {\n          console.warn(e);\n        } // dispose echarts instance\n\n\n        _this.echartsLib.dispose(_this.echartsElement);\n      }\n    };\n\n    _this.rerender = function () {\n      var _this$props = _this.props,\n          onEvents = _this$props.onEvents,\n          onChartReady = _this$props.onChartReady;\n\n      var echartObj = _this.renderEchartDom();\n\n      _this.bindEvents(echartObj, onEvents || {}); // on chart ready\n\n\n      if (typeof onChartReady === 'function') _this.props.onChartReady(echartObj); // on resize\n\n      if (_this.echartsElement) {\n        (0, _sizeSensor.bind)(_this.echartsElement, function () {\n          try {\n            echartObj.resize();\n          } catch (e) {\n            console.warn(e);\n          }\n        });\n      }\n    };\n\n    _this.bindEvents = function (instance, events) {\n      var _bindEvent = function _bindEvent(eventName, func) {\n        // ignore the event config which not satisfy\n        if (typeof eventName === 'string' && typeof func === 'function') {\n          // binding event\n          // instance.off(eventName); // 已经 dispose 在重建，所以无需 off 操作\n          instance.on(eventName, function (param) {\n            func(param, instance);\n          });\n        }\n      }; // loop and bind\n\n\n      for (var eventName in events) {\n        if (Object.prototype.hasOwnProperty.call(events, eventName)) {\n          _bindEvent(eventName, events[eventName]);\n        }\n      }\n    };\n\n    _this.renderEchartDom = function () {\n      // init the echart object\n      var echartObj = _this.getEchartsInstance(); // set the echart option\n\n\n      echartObj.setOption(_this.props.option, _this.props.notMerge || false, _this.props.lazyUpdate || false); // set loading mask\n\n      if (_this.props.showLoading) echartObj.showLoading(_this.props.loadingOption || null);else echartObj.hideLoading();\n      return echartObj;\n    };\n\n    _this.echartsLib = props.echarts; // the echarts object.\n\n    _this.echartsElement = null; // echarts div element\n\n    return _this;\n  } // first add\n\n\n  _createClass(EchartsReactCore, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.rerender();\n    } // update\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      // 判断是否需要 setOption，由开发者自己来确定。默认为 true\n      if (typeof this.props.shouldSetOption === 'function' && !this.props.shouldSetOption(prevProps, this.props)) {\n        return;\n      } // 以下属性修改的时候，需要 dispose 之后再新建\n      // 1. 切换 theme 的时候\n      // 2. 修改 opts 的时候\n      // 3. 修改 onEvents 的时候，这样可以取消所有之前绑定的事件 issue #151\n\n\n      if (!(0, _fastDeepEqual2['default'])(prevProps.theme, this.props.theme) || !(0, _fastDeepEqual2['default'])(prevProps.opts, this.props.opts) || !(0, _fastDeepEqual2['default'])(prevProps.onEvents, this.props.onEvents)) {\n        this.dispose();\n        this.rerender(); // 重建\n\n        return;\n      } // 当这些属性保持不变的时候，不 setOption\n\n\n      var pickKeys = ['option', 'notMerge', 'lazyUpdate', 'showLoading', 'loadingOption'];\n\n      if ((0, _fastDeepEqual2['default'])((0, _utils.pick)(this.props, pickKeys), (0, _utils.pick)(prevProps, pickKeys))) {\n        return;\n      }\n\n      var echartObj = this.renderEchartDom(); // 样式修改的时候，可能会导致大小变化，所以触发一下 resize\n\n      if (!(0, _fastDeepEqual2['default'])(prevProps.style, this.props.style) || !(0, _fastDeepEqual2['default'])(prevProps.className, this.props.className)) {\n        try {\n          echartObj.resize();\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    } // remove\n\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.dispose();\n    } // return the echart object\n    // dispose echarts and clear size-sensor\n    // bind the events\n    // render the dom\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          style = _props.style,\n          className = _props.className;\n\n      var newStyle = _extends({\n        height: 300\n      }, style); // for render\n\n\n      return _react2['default'].createElement('div', {\n        ref: function ref(e) {\n          _this2.echartsElement = e;\n        },\n        style: newStyle,\n        className: 'echarts-for-react ' + className\n      });\n    }\n  }]);\n\n  return EchartsReactCore;\n}(_react.Component);\n\nexports['default'] = EchartsReactCore;\nEchartsReactCore.propTypes = {\n  option: _propTypes2['default'].object.isRequired,\n  // eslint-disable-line react/forbid-prop-types\n  echarts: _propTypes2['default'].object,\n  // eslint-disable-line react/forbid-prop-types\n  notMerge: _propTypes2['default'].bool,\n  lazyUpdate: _propTypes2['default'].bool,\n  style: _propTypes2['default'].object,\n  // eslint-disable-line react/forbid-prop-types\n  className: _propTypes2['default'].string,\n  theme: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].object]),\n  onChartReady: _propTypes2['default'].func,\n  showLoading: _propTypes2['default'].bool,\n  loadingOption: _propTypes2['default'].object,\n  // eslint-disable-line react/forbid-prop-types\n  onEvents: _propTypes2['default'].object,\n  // eslint-disable-line react/forbid-prop-types\n  opts: _propTypes2['default'].shape({\n    devicePixelRatio: _propTypes2['default'].number,\n    renderer: _propTypes2['default'].oneOf(['canvas', 'svg']),\n    width: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].oneOf([null, undefined, 'auto'])]),\n    height: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].oneOf([null, undefined, 'auto'])])\n  }),\n  shouldSetOption: _propTypes2['default'].func\n};\nEchartsReactCore.defaultProps = {\n  echarts: {},\n  notMerge: false,\n  lazyUpdate: false,\n  style: {},\n  className: '',\n  theme: null,\n  onChartReady: function onChartReady() {},\n  showLoading: false,\n  loadingOption: null,\n  onEvents: {},\n  opts: {},\n  shouldSetOption: function shouldSetOption() {\n    return true;\n  }\n};","map":{"version":3,"sources":["/Users/clairevandenberg/Desktop/coding_boot_camp/Projects/ProjectThree/projectthree/client/node_modules/echarts-for-react/lib/core.js"],"names":["Object","defineProperty","exports","value","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_fastDeepEqual","_fastDeepEqual2","_sizeSensor","_utils","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","EchartsReactCore","_Component","_this","getPrototypeOf","getEchartsInstance","echartsLib","getInstanceByDom","echartsElement","init","theme","opts","dispose","clear","e","console","warn","rerender","_this$props","onEvents","onChartReady","echartObj","renderEchartDom","bindEvents","bind","resize","events","_bindEvent","eventName","func","on","param","setOption","option","notMerge","lazyUpdate","showLoading","loadingOption","hideLoading","echarts","componentDidMount","componentDidUpdate","prevProps","shouldSetOption","pickKeys","pick","style","className","componentWillUnmount","render","_this2","_props","newStyle","height","createElement","ref","Component","propTypes","object","isRequired","bool","string","oneOfType","shape","devicePixelRatio","number","renderer","oneOf","width","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fastDeepEqual = require('fast-deep-equal');\n\nvar _fastDeepEqual2 = _interopRequireDefault(_fastDeepEqual);\n\nvar _sizeSensor = require('size-sensor');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EchartsReactCore = function (_Component) {\n  _inherits(EchartsReactCore, _Component);\n\n  function EchartsReactCore(props) {\n    _classCallCheck(this, EchartsReactCore);\n\n    var _this = _possibleConstructorReturn(this, (EchartsReactCore.__proto__ || Object.getPrototypeOf(EchartsReactCore)).call(this, props));\n\n    _this.getEchartsInstance = function () {\n      return _this.echartsLib.getInstanceByDom(_this.echartsElement) || _this.echartsLib.init(_this.echartsElement, _this.props.theme, _this.props.opts);\n    };\n\n    _this.dispose = function () {\n      if (_this.echartsElement) {\n        try {\n          (0, _sizeSensor.clear)(_this.echartsElement);\n        } catch (e) {\n          console.warn(e);\n        }\n        // dispose echarts instance\n        _this.echartsLib.dispose(_this.echartsElement);\n      }\n    };\n\n    _this.rerender = function () {\n      var _this$props = _this.props,\n          onEvents = _this$props.onEvents,\n          onChartReady = _this$props.onChartReady;\n\n\n      var echartObj = _this.renderEchartDom();\n      _this.bindEvents(echartObj, onEvents || {});\n\n      // on chart ready\n      if (typeof onChartReady === 'function') _this.props.onChartReady(echartObj);\n      // on resize\n      if (_this.echartsElement) {\n        (0, _sizeSensor.bind)(_this.echartsElement, function () {\n          try {\n            echartObj.resize();\n          } catch (e) {\n            console.warn(e);\n          }\n        });\n      }\n    };\n\n    _this.bindEvents = function (instance, events) {\n      var _bindEvent = function _bindEvent(eventName, func) {\n        // ignore the event config which not satisfy\n        if (typeof eventName === 'string' && typeof func === 'function') {\n          // binding event\n          // instance.off(eventName); // 已经 dispose 在重建，所以无需 off 操作\n          instance.on(eventName, function (param) {\n            func(param, instance);\n          });\n        }\n      };\n\n      // loop and bind\n      for (var eventName in events) {\n        if (Object.prototype.hasOwnProperty.call(events, eventName)) {\n          _bindEvent(eventName, events[eventName]);\n        }\n      }\n    };\n\n    _this.renderEchartDom = function () {\n      // init the echart object\n      var echartObj = _this.getEchartsInstance();\n      // set the echart option\n      echartObj.setOption(_this.props.option, _this.props.notMerge || false, _this.props.lazyUpdate || false);\n      // set loading mask\n      if (_this.props.showLoading) echartObj.showLoading(_this.props.loadingOption || null);else echartObj.hideLoading();\n\n      return echartObj;\n    };\n\n    _this.echartsLib = props.echarts; // the echarts object.\n    _this.echartsElement = null; // echarts div element\n    return _this;\n  }\n\n  // first add\n\n\n  _createClass(EchartsReactCore, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.rerender();\n    }\n\n    // update\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      // 判断是否需要 setOption，由开发者自己来确定。默认为 true\n      if (typeof this.props.shouldSetOption === 'function' && !this.props.shouldSetOption(prevProps, this.props)) {\n        return;\n      }\n\n      // 以下属性修改的时候，需要 dispose 之后再新建\n      // 1. 切换 theme 的时候\n      // 2. 修改 opts 的时候\n      // 3. 修改 onEvents 的时候，这样可以取消所有之前绑定的事件 issue #151\n      if (!(0, _fastDeepEqual2['default'])(prevProps.theme, this.props.theme) || !(0, _fastDeepEqual2['default'])(prevProps.opts, this.props.opts) || !(0, _fastDeepEqual2['default'])(prevProps.onEvents, this.props.onEvents)) {\n        this.dispose();\n\n        this.rerender(); // 重建\n        return;\n      }\n\n      // 当这些属性保持不变的时候，不 setOption\n      var pickKeys = ['option', 'notMerge', 'lazyUpdate', 'showLoading', 'loadingOption'];\n      if ((0, _fastDeepEqual2['default'])((0, _utils.pick)(this.props, pickKeys), (0, _utils.pick)(prevProps, pickKeys))) {\n        return;\n      }\n\n      var echartObj = this.renderEchartDom();\n      // 样式修改的时候，可能会导致大小变化，所以触发一下 resize\n      if (!(0, _fastDeepEqual2['default'])(prevProps.style, this.props.style) || !(0, _fastDeepEqual2['default'])(prevProps.className, this.props.className)) {\n        try {\n          echartObj.resize();\n        } catch (e) {\n          console.warn(e);\n        }\n      }\n    }\n\n    // remove\n\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.dispose();\n    }\n\n    // return the echart object\n\n\n    // dispose echarts and clear size-sensor\n\n\n    // bind the events\n\n\n    // render the dom\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          style = _props.style,\n          className = _props.className;\n\n      var newStyle = _extends({\n        height: 300\n      }, style);\n      // for render\n      return _react2['default'].createElement('div', {\n        ref: function ref(e) {\n          _this2.echartsElement = e;\n        },\n        style: newStyle,\n        className: 'echarts-for-react ' + className\n      });\n    }\n  }]);\n\n  return EchartsReactCore;\n}(_react.Component);\n\nexports['default'] = EchartsReactCore;\n\n\nEchartsReactCore.propTypes = {\n  option: _propTypes2['default'].object.isRequired, // eslint-disable-line react/forbid-prop-types\n  echarts: _propTypes2['default'].object, // eslint-disable-line react/forbid-prop-types\n  notMerge: _propTypes2['default'].bool,\n  lazyUpdate: _propTypes2['default'].bool,\n  style: _propTypes2['default'].object, // eslint-disable-line react/forbid-prop-types\n  className: _propTypes2['default'].string,\n  theme: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].object]),\n  onChartReady: _propTypes2['default'].func,\n  showLoading: _propTypes2['default'].bool,\n  loadingOption: _propTypes2['default'].object, // eslint-disable-line react/forbid-prop-types\n  onEvents: _propTypes2['default'].object, // eslint-disable-line react/forbid-prop-types\n  opts: _propTypes2['default'].shape({\n    devicePixelRatio: _propTypes2['default'].number,\n    renderer: _propTypes2['default'].oneOf(['canvas', 'svg']),\n    width: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].oneOf([null, undefined, 'auto'])]),\n    height: _propTypes2['default'].oneOfType([_propTypes2['default'].number, _propTypes2['default'].oneOf([null, undefined, 'auto'])])\n  }),\n  shouldSetOption: _propTypes2['default'].func\n};\n\nEchartsReactCore.defaultProps = {\n  echarts: {},\n  notMerge: false,\n  lazyUpdate: false,\n  style: {},\n  className: '',\n  theme: null,\n  onChartReady: function onChartReady() {},\n  showLoading: false,\n  loadingOption: null,\n  onEvents: {},\n  opts: {},\n  shouldSetOption: function shouldSetOption() {\n    return true;\n  }\n};"]},"metadata":{},"sourceType":"script"}