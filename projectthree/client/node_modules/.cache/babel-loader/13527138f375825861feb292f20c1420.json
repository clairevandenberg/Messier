{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","map":{"version":3,"sources":["/Users/clairevandenberg/Desktop/coding_boot_camp/Projects/ProjectThree/projectthree/client/node_modules/size-sensor/lib/sensors/object.js"],"names":["Object","defineProperty","exports","value","createSensor","_debounce","_interopRequireDefault","require","_constant","obj","__esModule","element","sensor","undefined","listeners","newSensor","getComputedStyle","position","style","document","createElement","onload","contentDocument","defaultView","addEventListener","resizeListener","display","top","left","height","width","overflow","pointerEvents","zIndex","opacity","setAttribute","SensorClassName","SensorTabIndex","type","appendChild","data","forEach","listener","bind","cb","indexOf","push","destroy","parentNode","removeEventListener","removeChild","unbind","idx","splice","length"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); // 直接触发一次 resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;"]},"metadata":{},"sourceType":"script"}