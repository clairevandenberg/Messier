import t from"react";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=p(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var _=t.createContext(),x={getStatus:v,getStatusStyle:b,buildStyleGetters:function(t,e){t.getStatusStyle=function(n,r){var i=v(t,n);return t.style=b(t,i,r,e),t.style},t.datums.forEach((function(t){t.getStatusStyle=function(n,r){var i=v(t,n);return t.style=b(t,i,r,e),t.style}}))},getMultiAnchor:function(t){var e,n,r=t.anchor,i=t.points,o=t.gridWidth,a=t.gridHeight,s=function(){throw new Error("".concat(JSON.stringify(r)," is not a valid tooltip anchor option. You should use a single anchor option or 2 non-conflicting anchor options."))},u=i[0].anchor.x,c=i[0].anchor.x,l=i[0].anchor.y,h=i[0].anchor.y;if(i.forEach((function(t){u=Math.min(t.anchor.x,u),c=Math.max(t.anchor.x,c),l=Math.min(t.anchor.y,l),h=Math.max(t.anchor.y,h)})),r.length>2)return s();r=r.sort((function(t){return t.includes("center")||t.includes("Center")?1:-1}));for(var f=0;f<r.length;f++){var d=r[f];["left","right","gridLeft","gridRight"].includes(d)&&(void 0!==e&&s(),"left"===d?e=u:"right"===d?e=c:"gridLeft"===d?e=0:"gridRight"===d?e=o:s()),["top","bottom","gridTop","gridBottom"].includes(d)&&(void 0!==n&&s(),"top"===d?n=l:"bottom"===d?n=h:"gridTop"===d?n=0:"gridBottom"===d?n=a:s()),["center","gridCenter"].includes(d)&&("center"===d?(void 0===n&&(n=(l+h)/2),void 0===e&&(e=(u+c)/2)):"gridCenter"===d?(void 0===n&&(n=a/2),void 0===e&&(e=o/2)):s()),1===r.length&&(r[0].includes("grid")?r.push("gridCenter"):r.push("center"))}return{x:e,y:n}},getClosestPoint:function(t,e){if(!e||!t||!e.length)return;var n=1/0,r=e[0];return e.forEach((function(e){e.boundingPoints.forEach((function(i){var o=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2));o<n&&(n=o,r=e)}))})),r},normalizeGetter:function(t){if("function"==typeof t)return t;return function(e){return function(t,e,n){if("function"==typeof t)try{return t()}catch(t){return e}if(!e)return t;var r,i=function(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e))for(var r=0;r<e.length;r++)t(e[r],n);else n.push(e);return n}(t).join(".").replace("[",".").replace("]","").split(".")}(e);try{r=i.reduce((function(t,e){return t[e]}),t)}catch(t){}return void 0!==r?r:n}(e,t)}},isValidPoint:function(t){if(null===t)return!1;if(void 0===t)return!1;if("string"==typeof t&&"null"===t)return!1;return!0},getAxisByAxisID:function(t,e){return t.find((function(t){return t.id===e}))||t[0]},getAxisIndexByAxisID:function(t,e){var n=t.findIndex((function(t){return t.id===e}));return n>-1?n:0},sumObjBy:function(t,e){return Object.keys(t).map((function(e){return t[e]})).reduce((function(t,n){return t+n[e]||0}),0)},translateX:function(t){return"translate3d(".concat(Math.round(t),"px, 0, 0)")},translateY:function(t){return"translate3d(0, ".concat(Math.round(t),"px, 0)")},translate:function(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")},identity:function(t){return t},shallowDiff:function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!0;return Object.keys(t).some((function(n){if(t[n]!==e[n])return!0}))}};function v(t,e){var n={focused:!1,otherFocused:!1};if(!e)return n;if(void 0!==t.primary){for(var r=e.group.length,i=0;i<r;i++)if(e.group[i].seriesID===t.series.id&&e.group[i].index===t.index){n.focused=!0;break}n.otherFocused=!n.focused}else e.series&&(n.focused=e.series.id===t.id,n.otherFocused=!n.focused);return n}function b(t,e,n,r){return t.series&&(r=s({},r,{},t.series.style)),function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=M(e,n);for(var r=0;r<w.length;r++){var i=w[r];e[i]=e[i]?t(e[i],n):{}}return e}(n(s({},t,{},e)),r)}function M(t,e){return s({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}var w=["area","line","rectangle","circle"];var C,k=["bottom","height","left","right","top","width"],S=new Map,A=function t(){var e=[];S.forEach((function(t,n){var r=n.getBoundingClientRect();(function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),k.some((function(n){return t[n]!==e[n]}))})(r,t.rect)&&(t.rect=r,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),C=window.requestAnimationFrame(t)};var E="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function T(e){var n,r=d(t.useState(null===(n=e.current)||void 0===n?void 0:n.parentElement),2),i=r[0],o=r[1],a=d(t.useState({width:0,height:0}),2),s=a[0],u=a[1],c=t.useRef(!1);return E((function(){var t,n;(null===(t=e.current)||void 0===t?void 0:t.parentElement)!==i&&o(null===(n=e.current)||void 0===n?void 0:n.parentElement)})),E((function(){i&&!c.current&&(c.current=!0,u(i.getBoundingClientRect()))}),[i]),t.useEffect((function(){if(i){var t,e,n=(t=i,e=u,{observe:function(){var n=0===S.size;S.has(t)?S.get(t).callbacks.push(e):S.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&A()},unobserve:function(){var n=S.get(t);if(n){var r=n.callbacks.indexOf(e);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||S.delete(t),S.size||cancelAnimationFrame(C)}}});return n.observe(),function(){n.unobserve()}}}),[i]),{width:s.width,height:s.height}}function D(e){var n=t.useRef();return n.current=e,n}function N(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.useRef();return n&&(r.current=e),r.current}function R(e){var n=t.useRef();return t.useEffect((function(){n.current=e}),[e]),n.current}for(var L=require("performance-now"),P="undefined"==typeof window?global:window,O=["moz","webkit"],U="AnimationFrame",I=P["request"+U],V=P["cancel"+U]||P["cancelRequest"+U],z=0;!I&&z<O.length;z++)I=P[O[z]+"Request"+U],V=P[O[z]+"Cancel"+U]||P[O[z]+"CancelRequest"+U];if(!I||!V){var j=0,F=0,H=[];I=function(t){if(0===H.length){var e=L(),n=Math.max(0,1e3/60-(e-j));j=n+e,setTimeout((function(){var t=H.slice(0);H.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(j)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(n))}return H.push({handle:++F,callback:t,cancelled:!1}),F},V=function(t){for(var e=0;e<H.length;e++)H[e].handle===t&&(H[e].cancelled=!0)}}function B(t){return I.call(P,t)}B.cancel=function(){V.apply(P,arguments)},B.polyfill=function(t){t||(t=P),t.requestAnimationFrame=I,t.cancelAnimationFrame=V};var Y={strokeWidth:0,fill:"#333",opacity:1,rx:0,ry:0};function W(e){var n=e.style,r=(e.opacity,e.x1),i=e.y1,a=e.x2,u=e.y2,c=l(e,["style","opacity","x1","y1","x2","y2"]),h=s({},Y,{},n),f=Math.min(r,a),d=Math.min(i,u),y=Math.max(r,a),p=Math.max(i,u),g=Math.max(p-d,0),m=Math.max(y-f,0);return t.createElement("rect",o({},c,{x:f,y:d,width:m,height:g,style:h}))}function q(t){return function(){return t}}function X(t){return t[0]}function G(t){return t[1]}function Z(){this._=null}function $(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function K(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function J(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Q(t){for(;t.L;)t=t.L;return t}function tt(t,e,n,r){var i=[null,null],o=Ct.push(i)-1;return i.left=t,i.right=e,n&&nt(i,t,e,n),r&&nt(i,e,t,r),Mt[t.index].halfedges.push(o),Mt[e.index].halfedges.push(o),i}function et(t,e,n){var r=[e,n];return r.left=t,r}function nt(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function rt(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,d=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*d]),h<1&&(t[1]=[u+h*f,c+h*d]),!0)}}}}}function it(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],d=l[0],y=l[1],p=(h+d)/2,g=(f+y)/2;if(y===f){if(p<e||p>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[p,n];o=[p,i]}else{if(u){if(u[1]<n)return}else u=[p,i];o=[p,n]}}else if(s=g-(a=(h-d)/(y-f))*p,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<y){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ot(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function at(t,e){return e[+(e.left!==t.site)]}function st(t,e){return e[+(e.left===t.site)]}Z.prototype={constructor:Z,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Q(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(K(this,n),n=(t=n).U),n.C=!1,r.C=!0,J(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(J(this,n),n=(t=n).U),n.C=!1,r.C=!0,K(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Q(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,K(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,J(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,K(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,J(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,K(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,J(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ut,ct=[];function lt(){$(this),this.x=this.y=this.arc=this.site=this.cy=null}function ht(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,h=o[1]-s,f=2*(u*h-c*l);if(!(f>=-St)){var d=u*u+c*c,y=l*l+h*h,p=(h*d-c*y)/f,g=(u*y-l*d)/f,m=ct.pop()||new lt;m.arc=t,m.site=i,m.x=p+a,m.y=(m.cy=g+s)+Math.sqrt(p*p+g*g),t.circle=m;for(var _=null,x=wt._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){_=x.P;break}x=x.L}else{if(!x.R){_=x;break}x=x.R}wt.insert(_,m),_||(ut=m)}}}}function ft(t){var e=t.circle;e&&(e.P||(ut=e.N),wt.remove(e),ct.push(e),$(e),t.circle=null)}var dt=[];function yt(){$(this),this.edge=this.site=this.circle=null}function pt(t){var e=dt.pop()||new yt;return e.site=t,e}function gt(t){ft(t),bt.remove(t),dt.push(t),$(t)}function mt(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];gt(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<kt&&Math.abs(r-u.circle.cy)<kt;)o=u.P,s.unshift(u),gt(u),u=o;s.unshift(u),ft(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<kt&&Math.abs(r-c.circle.cy)<kt;)a=c.N,s.push(c),gt(c),c=a;s.push(c),ft(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],nt(c.edge,u.site,c.site,i);u=s[0],(c=s[h-1]).edge=tt(u.site,c.site,null,i),ht(u),ht(c)}function _t(t){for(var e,n,r,i,o=t[0],a=t[1],s=bt._;s;)if((r=xt(s,a)-o)>kt)s=s.L;else{if(!((i=o-vt(s,a))>kt)){r>-kt?(e=s.P,n=s):i>-kt?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){Mt[t.index]={site:t,halfedges:[]}}(t);var u=pt(t);if(bt.insert(e,u),e||n){if(e===n)return ft(e),n=pt(e.site),bt.insert(u,n),u.edge=n.edge=tt(e.site,u.site),ht(e),void ht(n);if(n){ft(e),ft(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,d=t[1]-h,y=n.site,p=y[0]-l,g=y[1]-h,m=2*(f*g-d*p),_=f*f+d*d,x=p*p+g*g,v=[(g*_-d*x)/m+l,(f*x-p*_)/m+h];nt(n.edge,c,y,v),u.edge=tt(c,t,null,v),n.edge=tt(t,y,null,v),ht(e),ht(n)}else u.edge=tt(e.site,u.site)}}function xt(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function vt(t,e){var n=t.N;if(n)return xt(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var bt,Mt,wt,Ct,kt=1e-6,St=1e-12;function At(t,e){return e[1]-t[1]||e[0]-t[0]}function Et(t,e){var n,r,i,o=t.sort(At).pop();for(Ct=[],Mt=new Array(t.length),bt=new Z,wt=new Z;;)if(i=ut,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(_t(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;mt(i.arc)}if(function(){for(var t,e,n,r,i=0,o=Mt.length;i<o;++i)if((t=Mt[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=ot(t,Ct[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=Ct.length;o--;)it(i=Ct[o],t,e,n,r)&&rt(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>kt||Math.abs(i[0][1]-i[1][1])>kt)||delete Ct[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,h,f,d,y,p,g=Mt.length,m=!0;for(i=0;i<g;++i)if(o=Mt[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Ct[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)y=(d=st(o,Ct[u[s]]))[0],p=d[1],h=(l=at(o,Ct[u[++s%c]]))[0],f=l[1],(Math.abs(y-h)>kt||Math.abs(p-f)>kt)&&(u.splice(s,0,Ct.push(et(a,d,Math.abs(y-t)<kt&&r-p>kt?[t,Math.abs(h-t)<kt?f:r]:Math.abs(p-r)<kt&&n-y>kt?[Math.abs(f-r)<kt?h:n,r]:Math.abs(y-n)<kt&&p-e>kt?[n,Math.abs(h-n)<kt?f:e]:Math.abs(p-e)<kt&&y-t>kt?[Math.abs(f-e)<kt?h:t,e]:null))-1),++c);c&&(m=!1)}if(m){var _,x,v,b=1/0;for(i=0,m=null;i<g;++i)(o=Mt[i])&&(v=(_=(a=o.site)[0]-t)*_+(x=a[1]-e)*x)<b&&(b=v,m=o);if(m){var M=[t,e],w=[t,r],C=[n,r],k=[n,e];m.halfedges.push(Ct.push(et(a=m.site,M,w))-1,Ct.push(et(a,w,C))-1,Ct.push(et(a,C,k))-1,Ct.push(et(a,k,M))-1)}}for(i=0;i<g;++i)(o=Mt[i])&&(o.halfedges.length||delete Mt[i])}(a,s,u,c)}this.edges=Ct,this.cells=Mt,bt=wt=Ct=Mt=null}function Tt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Dt(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Tt(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}Et.prototype={constructor:Et,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return at(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,h=-1,f=e[i[o-1]],d=f.left===l?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===l?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(u=a,c=d,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var Nt=Dt(Tt).right;function Rt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var Lt=Math.sqrt(50),Pt=Math.sqrt(10),Ot=Math.sqrt(2);function Ut(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=It(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function It(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Lt?10:o>=Pt?5:o>=Ot?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Lt?10:o>=Pt?5:o>=Ot?2:1)}function Vt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Lt?i*=10:o>=Pt?i*=5:o>=Ot&&(i*=2),e<t?-i:i}function zt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var jt=Symbol("implicit");function Ft(){var t=new Map,e=[],n=[],r=jt;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==jt)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;var r,o=m(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a+"";t.has(s)||t.set(s,e.push(a))}}catch(t){o.e(t)}finally{o.f()}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ft(e,n).unknown(r)},zt.apply(i,arguments),i}function Ht(){var t,e,n=Ft().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=a<o,f=h?a:o,d=h?o:a;t=(d-f)/Math.max(1,n-u+2*c),s&&(t=Math.floor(t)),f+=(d-f-t*(n-u))*l,e=t*(1-u),s&&(f=Math.round(f),e=Math.round(e));var y=Rt(n).map((function(e){return f+t*e}));return i(h?y.reverse():y)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){var e;return arguments.length?(e=d(t,2),o=e[0],a=e[1],o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){var e;return e=d(t,2),o=e[0],a=e[1],o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return Ht(r(),[o,a]).round(s).paddingInner(u).paddingOuter(c).align(l)},zt.apply(h(),arguments)}function Bt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Yt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wt(){}var qt="\\s*([+-]?\\d+)\\s*",Xt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zt=/^#([0-9a-f]{3,8})$/,$t=new RegExp("^rgb\\("+[qt,qt,qt]+"\\)$"),Kt=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Jt=new RegExp("^rgba\\("+[qt,qt,qt,Xt]+"\\)$"),Qt=new RegExp("^rgba\\("+[Gt,Gt,Gt,Xt]+"\\)$"),te=new RegExp("^hsl\\("+[Xt,Gt,Gt]+"\\)$"),ee=new RegExp("^hsla\\("+[Xt,Gt,Gt,Xt]+"\\)$"),ne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function re(){return this.rgb().formatHex()}function ie(){return this.rgb().formatRgb()}function oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ae(e):3===n?new le(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new le(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new le(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=$t.exec(t))?new le(e[1],e[2],e[3],1):(e=Kt.exec(t))?new le(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Jt.exec(t))?se(e[1],e[2],e[3],e[4]):(e=Qt.exec(t))?se(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=te.exec(t))?ye(e[1],e[2]/100,e[3]/100,1):(e=ee.exec(t))?ye(e[1],e[2]/100,e[3]/100,e[4]):ne.hasOwnProperty(t)?ae(ne[t]):"transparent"===t?new le(NaN,NaN,NaN,0):null}function ae(t){return new le(t>>16&255,t>>8&255,255&t,1)}function se(t,e,n,r){return r<=0&&(t=e=n=NaN),new le(t,e,n,r)}function ue(t){return t instanceof Wt||(t=oe(t)),t?new le((t=t.rgb()).r,t.g,t.b,t.opacity):new le}function ce(t,e,n,r){return 1===arguments.length?ue(t):new le(t,e,n,null==r?1:r)}function le(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function he(){return"#"+de(this.r)+de(this.g)+de(this.b)}function fe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function de(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ye(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ge(t,e,n,r)}function pe(t){if(t instanceof ge)return new ge(t.h,t.s,t.l,t.opacity);if(t instanceof Wt||(t=oe(t)),!t)return new ge;if(t instanceof ge)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new ge(a,s,u,t.opacity)}function ge(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function me(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function _e(t){return function(){return t}}function xe(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):_e(isNaN(t)?e:t)}Bt(Wt,oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:re,formatHex:re,formatHsl:function(){return pe(this).formatHsl()},formatRgb:ie,toString:ie}),Bt(le,ce,Yt(Wt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:he,formatHex:he,formatRgb:fe,toString:fe})),Bt(ge,(function(t,e,n,r){return 1===arguments.length?pe(t):new ge(t,e,n,null==r?1:r)}),Yt(Wt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ge(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ge(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new le(me(t>=240?t-240:t+120,i,r),me(t,i,r),me(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ve=function t(e){var n=function(t){return 1==(t=+t)?xe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):_e(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ce(t)).r,(e=ce(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=xe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function be(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Me(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Te(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function we(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ce(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ke(t,n){var r,i={},o={};for(r in null!==t&&"object"==e(t)||(t={}),null!==n&&"object"==e(n)||(n={}),n)r in t?i[r]=Te(t[r],n[r]):o[r]=n[r];return function(t){for(r in i)o[r]=i[r](t);return o}}var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ae=new RegExp(Se.source,"g");function Ee(t,e){var n,r,i,o=Se.lastIndex=Ae.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Se.exec(t))&&(r=Ae.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Ce(n,r)})),o=Ae.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Te(t,n){var r,i=e(n);return null==n||"boolean"===i?_e(n):("number"===i?Ce:"string"===i?(r=oe(n))?(n=r,ve):Ee:n instanceof oe?ve:n instanceof Date?we:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?be:Array.isArray(n)?Me:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ke:Ce)(t,n)}function De(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ne(t){return+t}var Re=[0,1];function Le(t){return t}function Pe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Oe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Pe(i,r),o=n(a,o)):(r=Pe(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Pe(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Nt(t,e,1,r)-1;return o[n](i[n](e))}}function Ie(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ve(){var t,e,n,r,i,o,a=Re,s=Re,u=Te,c=Le;function l(){var t,e,n,u=Math.min(a.length,s.length);return c!==Le&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?Ue:Oe,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Ce)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Ne),l()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=De,l()},h.clamp=function(t){return arguments.length?(c=!!t||Le,l()):c!==Le},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function ze(){return Ve()(Le,Le)}function je(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fe(t){return(t=je(Math.abs(t)))?t[1]:NaN}var He,Be=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ye(t){if(!(e=Be.exec(t)))throw new Error("invalid format: "+t);var e;return new We({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function We(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function qe(t,e){var n=je(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ye.prototype=We.prototype,We.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Xe={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return qe(100*t,e)},r:qe,s:function(t,e){var n=je(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(He=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+je(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ge(t){return t}var Ze,$e,Ke,Je=Array.prototype.map,Qe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tn(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ut(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=Vt(t,e,n);switch((r=Ye(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fe(e)/3)))-Fe(Math.abs(t)))}(o,a))||(r.precision=i),Ke(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fe(e)-Fe(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Fe(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return $e(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=It(s,u,n))>0?r=It(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=It(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function en(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function nn(t){return Math.log(t)}function rn(t){return Math.exp(t)}function on(t){return-Math.log(-t)}function an(t){return-Math.exp(-t)}function sn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function un(t){return function(e){return-t(-e)}}function cn(t){var e,n,r=t(nn,rn),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?sn:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=un(e),n=un(n),t(on,an)):t(nn,rn),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var c,l,h,f=e(s),d=e(u),y=null==t?10:+t,p=[];if(!(o%1)&&d-f<y){if(f=Math.floor(f),d=Math.ceil(d),s>0){for(;f<=d;++f)for(l=1,c=n(f);l<o;++l)if(!((h=c*l)<s)){if(h>u)break;p.push(h)}}else for(;f<=d;++f)for(l=o-1,c=n(f);l>=1;--l)if(!((h=c*l)<s)){if(h>u)break;p.push(h)}2*p.length<y&&(p=Ut(s,u,y))}else p=Ut(f,d,Math.min(d-f,y)).map(n);return r?p.reverse():p},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=$e(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(en(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}Ze=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ge:(e=Je.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ge:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Je.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ye(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,y=t.width,p=t.comma,g=t.precision,m=t.trim,_=t.type;"n"===_?(p=!0,_="g"):Xe[_]||(void 0===g&&(g=12),m=!0,_="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===f?o:/[%p]/.test(_)?u:"",b=Xe[_],M=/[defgprs%]/.test(_);function w(t){var i,o,u,f=x,w=v;if("c"===_)w=b(t)+w,t="";else{var C=(t=+t)<0;if(t=isNaN(t)?l:b(Math.abs(t),g),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),C&&0==+t&&(C=!1),f=(C?"("===h?h:c:"-"===h||"("===h?"":h)+f,w=("s"===_?Qe[8+He/3]:"")+w+(C&&"("===h?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){w=(46===u?a+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var k=f.length+t.length+w.length,S=k<y?new Array(y-k+1).join(e):"";switch(p&&d&&(t=r(S+t,S.length?y-w.length:1/0),S=""),n){case"<":t=f+t+w+S;break;case"=":t=f+S+t+w;break;case"^":t=S.slice(0,k=S.length>>1)+f+t+w+S.slice(k);break;default:t=S+f+t+w}return s(t)}return g=void 0===g?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ye(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Fe(e)/3))),i=Math.pow(10,-r),o=Qe[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),$e=Ze.format,Ke=Ze.formatPrefix;var ln=new Date,hn=new Date;function fn(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return fn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return ln.setTime(+e),hn.setTime(+r),t(ln),t(hn),Math.floor(n(ln,hn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var dn=fn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));dn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?fn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):dn:null};var yn=fn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),pn=fn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),gn=fn((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),mn=fn((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}));function _n(t){return fn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var xn=_n(0),vn=_n(1),bn=(_n(2),_n(3),_n(4)),Mn=(_n(5),_n(6),fn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),wn=fn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));wn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Cn=fn((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),kn=fn((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Sn=fn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function An(t){return fn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var En=An(0),Tn=An(1),Dn=(An(2),An(3),An(4)),Nn=(An(5),An(6),fn((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),Rn=fn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function Ln(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function On(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Rn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Un,In,Vn,zn={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,Fn=/^%/,Hn=/[\\^$*+?|[\]().{}]/g;function Bn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Yn(t){return t.replace(Hn,"\\$&")}function Wn(t){return new RegExp("^(?:"+t.map(Yn).join("|")+")","i")}function qn(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Xn(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gn(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zn(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $n(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kn(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Jn(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qn(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function er(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function nr(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rr(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function or(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ar(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sr(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ur(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cr(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lr(t,e,n){var r=Fn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hr(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function dr(t,e){return Bn(t.getDate(),e,2)}function yr(t,e){return Bn(t.getHours(),e,2)}function pr(t,e){return Bn(t.getHours()%12||12,e,2)}function gr(t,e){return Bn(1+mn.count(wn(t),t),e,3)}function mr(t,e){return Bn(t.getMilliseconds(),e,3)}function _r(t,e){return mr(t,e)+"000"}function xr(t,e){return Bn(t.getMonth()+1,e,2)}function vr(t,e){return Bn(t.getMinutes(),e,2)}function br(t,e){return Bn(t.getSeconds(),e,2)}function Mr(t){var e=t.getDay();return 0===e?7:e}function wr(t,e){return Bn(xn.count(wn(t)-1,t),e,2)}function Cr(t,e){var n=t.getDay();return t=n>=4||0===n?bn(t):bn.ceil(t),Bn(bn.count(wn(t),t)+(4===wn(t).getDay()),e,2)}function kr(t){return t.getDay()}function Sr(t,e){return Bn(vn.count(wn(t)-1,t),e,2)}function Ar(t,e){return Bn(t.getFullYear()%100,e,2)}function Er(t,e){return Bn(t.getFullYear()%1e4,e,4)}function Tr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bn(e/60|0,"0",2)+Bn(e%60,"0",2)}function Dr(t,e){return Bn(t.getUTCDate(),e,2)}function Nr(t,e){return Bn(t.getUTCHours(),e,2)}function Rr(t,e){return Bn(t.getUTCHours()%12||12,e,2)}function Lr(t,e){return Bn(1+Sn.count(Rn(t),t),e,3)}function Pr(t,e){return Bn(t.getUTCMilliseconds(),e,3)}function Or(t,e){return Pr(t,e)+"000"}function Ur(t,e){return Bn(t.getUTCMonth()+1,e,2)}function Ir(t,e){return Bn(t.getUTCMinutes(),e,2)}function Vr(t,e){return Bn(t.getUTCSeconds(),e,2)}function zr(t){var e=t.getUTCDay();return 0===e?7:e}function jr(t,e){return Bn(En.count(Rn(t)-1,t),e,2)}function Fr(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Dn(t):Dn.ceil(t),Bn(Dn.count(Rn(t),t)+(4===Rn(t).getUTCDay()),e,2)}function Hr(t){return t.getUTCDay()}function Br(t,e){return Bn(Tn.count(Rn(t)-1,t),e,2)}function Yr(t,e){return Bn(t.getUTCFullYear()%100,e,2)}function Wr(t,e){return Bn(t.getUTCFullYear()%1e4,e,4)}function qr(){return"+0000"}function Xr(){return"%"}function Gr(t){return+t}function Zr(t){return Math.floor(+t/1e3)}function $r(t){return new Date(t)}function Kr(t){return t instanceof Date?+t:+new Date(+t)}function Jr(t,e,n,r,i,o,a,s,u){var c=ze(),l=c.invert,h=c.domain,f=u(".%L"),d=u(":%S"),y=u("%I:%M"),p=u("%I %p"),g=u("%a %d"),m=u("%b %d"),_=u("%B"),x=u("%Y"),v=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function b(s){return(a(s)<s?f:o(s)<s?d:i(s)<s?y:r(s)<s?p:e(s)<s?n(s)<s?g:m:t(s)<s?_:x)(s)}function M(e,n,r){if(null==e&&(e=10),"number"==typeof e){var i,o=Math.abs(r-n)/e,a=Dt((function(t){return t[2]})).right(v,o);return a===v.length?(i=Vt(n/31536e6,r/31536e6,e),e=t):a?(i=(a=v[o/v[a-1][2]<v[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(Vt(n,r,e),1),e=s),e.every(i)}return e}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?h(Array.from(t,Kr)):h().map($r)},c.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=M(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},c.tickFormat=function(t,e){return null==e?b:u(e)},c.nice=function(t){var e=h();return(t=M(t,e[0],e[e.length-1]))?h(en(e,t)):c},c.copy=function(){return Ie(c,Jr(t,e,n,r,i,o,a,s,u))},c}Un=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Wn(i),l=qn(i),h=Wn(o),f=qn(o),d=Wn(a),y=qn(a),p=Wn(s),g=qn(s),m=Wn(u),_=qn(u),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:dr,e:dr,f:_r,H:yr,I:pr,j:gr,L:mr,m:xr,M:vr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Gr,s:Zr,S:br,u:Mr,U:wr,V:Cr,w:kr,W:Sr,x:null,X:null,y:Ar,Y:Er,Z:Tr,"%":Xr},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Dr,e:Dr,f:Or,H:Nr,I:Rr,j:Lr,L:Pr,m:Ur,M:Ir,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Gr,s:Zr,S:Vr,u:zr,U:jr,V:Fr,w:Hr,W:Br,x:null,X:null,y:Yr,Y:Wr,Z:qr,"%":Xr},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=y[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return C(t,e,n,r)},d:rr,e:rr,f:cr,H:or,I:or,j:ir,L:ur,m:nr,M:ar,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:er,Q:hr,s:fr,S:sr,u:Gn,U:Zn,V:$n,w:Xn,W:Kn,x:function(t,e,r){return C(t,n,e,r)},X:function(t,e,n){return C(t,r,e,n)},y:Qn,Y:Jn,Z:tr,"%":lr};function M(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=zn[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function w(t,e){return function(n){var r,i,o=On(1900,void 0,1);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Pn(On(o.y,0,1))).getUTCDay(),r=i>4||0===i?Tn.ceil(r):Tn(r),r=Sn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Ln(On(o.y,0,1))).getDay(),r=i>4||0===i?vn.ceil(r):vn(r),r=mn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Pn(On(o.y,0,1)).getUTCDay():Ln(On(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Pn(o)):Ln(o)}}function C(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=b[i in zn?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=M(n,x),x.X=M(r,x),x.c=M(e,x),v.x=M(n,v),v.X=M(r,v),v.c=M(e,v),{format:function(t){var e=M(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=M(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),In=Un.format,Un.parse,Vn=Un.utcFormat,Un.utcParse;var Qr=Math.PI,ti=2*Qr,ei=ti-1e-6;function ni(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ri(){return new ni}function ii(t){return function(){return t}}function oi(t){this._context=t}function ai(t){return new oi(t)}function si(t){return t[0]}function ui(t){return t[1]}function ci(){var t=si,e=ui,n=ii(!0),r=null,i=ai,o=null;function a(a){var s,u,c,l=a.length,h=!1;for(null==r&&(o=i(c=ri())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:ii(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ii(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ii(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function li(){}function hi(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fi(t){this._context=t}function di(t){return new fi(t)}function yi(t){this._context=t}function pi(t){return new yi(t)}function gi(t){this._context=t}function mi(t){return new gi(t)}function _i(t,e){this._basis=new fi(t),this._beta=e}ni.prototype=ri.prototype={constructor:ni,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var f=n-o,d=r-a,y=s*s+u*u,p=f*f+d*d,g=Math.sqrt(y),m=Math.sqrt(h),_=i*Math.tan((Qr-Math.acos((y+h-p)/(2*g*m)))/2),x=_/m,v=_/g;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*c)+","+(e+x*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*d)+","+(this._x1=t+v*s)+","+(this._y1=e+v*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%ti+ti),h>ei?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Qr)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},oi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hi(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},yi.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hi(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_i.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var xi=function t(e){function n(t){return 1===e?new fi(t):new _i(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function vi(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function bi(t,e){this._context=t,this._k=(1-e)/6}bi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vi(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:vi(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mi=function t(e){function n(t){return new bi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function wi(t,e){this._context=t,this._k=(1-e)/6}wi.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:vi(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ci=function t(e){function n(t){return new wi(t,e)}return n.tension=function(e){return t(+e)},n}(0);function ki(t,e){this._context=t,this._k=(1-e)/6}ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vi(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Si=function t(e){function n(t){return new ki(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Ai(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ei(t,e){this._context=t,this._alpha=e}Ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ai(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ti=function t(e){function n(t){return e?new Ei(t,e):new bi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Di(t,e){this._context=t,this._alpha=e}Di.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ai(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ni=function t(e){function n(t){return e?new Di(t,e):new wi(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ri(t,e){this._context=t,this._alpha=e}Ri.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ai(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Li=function t(e){function n(t){return e?new Ri(t,e):new ki(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Pi(t){this._context=t}function Oi(t){return new Pi(t)}function Ui(t){return t<0?-1:1}function Ii(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Ui(o)+Ui(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Vi(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zi(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ji(t){this._context=t}function Fi(t){this._context=new Hi(t)}function Hi(t){this._context=t}function Bi(t){return new ji(t)}function Yi(t){return new Fi(t)}function Wi(t){this._context=t}function qi(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Xi(t){return new Wi(t)}function Gi(t,e){this._context=t,this._t=e}function Zi(t){return new Gi(t,.5)}function $i(t){return new Gi(t,0)}function Ki(t){return new Gi(t,1)}Pi.prototype={areaStart:li,areaEnd:li,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zi(this,this._t0,Vi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zi(this,Vi(this,n=Ii(this,t,e)),n);break;default:zi(this,this._t0,n=Ii(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Fi.prototype=Object.create(ji.prototype)).point=function(t,e){ji.prototype.point.call(this,e,t)},Hi.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=qi(t),i=qi(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ji={strokeWidth:2,stroke:"#6b6b6b",fill:"transparent",opacity:1};function Qi(e){var n=e.style,r=l(e,["style"]),i=s({},Ji,{},n);return t.createElement("path",o({},r,{style:i}))}var to=ci(),eo=function(e){var n=e.children,r=l(e,["children"]);return t.createElement("g",o({className:"Voronoi"},r),n)};function no(){var e=d(t.useContext(_),2),n=e[0],r=n.stackData,i=n.primaryAxes,o=n.secondaryAxes,a=n.showVoronoi,u=n.width,c=n.height,l=n.gridWidth,h=n.gridHeight,f=n.onFocus,y=n.onClick,p=n.tooltip,g=n.primaryCursor,m=n.secondaryCursor,x=e[1],v=t.useCallback((function(t){return x((function(e){return s({},e,{focused:t})}))}),[x]),b=f||y||p||g||m;return t.useMemo((function(){if(!(r&&i.length&&o.length&&u&&c&&b))return null;var e=[[0,0],[l,h]],n=null,s=[];return r.forEach((function(t){t.datums.filter((function(t){return t.defined})).forEach((function(t){t.boundingPoints.forEach((function(e){"number"!=typeof t.x||"number"!=typeof t.y||Number.isNaN(t.y)||Number.isNaN(t.x)||s.push({x:e.x,y:e.y,datum:t})}))}))})),n=function(){var t=X,e=G,n=null;function r(r){return new Et(r.map((function(n,i){var o=[Math.round(t(n,i,r)/kt)*kt,Math.round(e(n,i,r)/kt)*kt];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:q(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:q(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}().x((function(t){return t.x})).y((function(t){return t.y})).extent(e)(s).polygons(),t.createElement(eo,null,n.map((function(e,n){var r=to(e);return t.createElement(Qi,{key:n,d:r,className:"action-voronoi",onMouseEnter:function(t){return v(e.data.datum)},onMouseLeave:function(t){return v(null)},style:{fill:"rgba(0,0,0,.2)",stroke:"rgba(255,255,255,.5)",opacity:a?1:0}})})))}),[h,l,c,v,i.length,o.length,a,r,u])}var ro={strokeWidth:1,fill:"transparent",opacity:1},io=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t.Component);var i,a,u,h=f(d);function d(){return n(this,d),h.apply(this,arguments)}return i=d,(a=[{key:"render",value:function(){var e=this.props,n=e.style,r=l(e,["style"]),i=s({},ro,{},n);return t.createElement("line",o({},r,{style:i}))}}])&&r(i.prototype,a),u&&r(i,u),d}(),oo={fontFamily:"Helvetica",fontSize:10,opacity:1};function ao(e){var n=e.style,r=(e.opacity,l(e,["style","opacity"])),i=s({},oo,{},n);return t.createElement("text",o({},r,{style:i}))}var so=t.forwardRef((function(e,n){return t.createElement("g",o({},e,{ref:n}))})),uo="top",co="right",lo="bottom",ho="left",fo="single",yo="series",po="primary",go="secondary",mo="auto",_o="right",xo="topRight",vo="bottomRight",bo="left",Mo="topLeft",wo="bottomLeft",Co="top",ko="bottom",So="ordinal",Ao="time",Eo="utc",To="linear",Do="log",No="pointer",Ro="closest",Lo="center",Po="top",Oo="bottom",Uo="left",Io="right",Vo="gridTop",zo="gridBottom",jo="gridLeft",Fo="gridRight",Ho="auto",Bo="closest",Yo="element",Wo={line:{strokeWidth:"1",fill:"transparent"},tick:{fontSize:10,fontFamily:"sans-serif"}};function qo(e){var n,r,o=e.id,a=e.type,u=e.position,c=e.tickSizeInner,l=e.tickSizeOuter,h=e.show,f=e.showGrid,p=e.showTicks,g=e.styles,m=e.maxLabelRotation,v=e.labelRotationStep,b=e.tickPadding,M=e.ticks,w=e.tickCount,C=e.minTickCount,k=e.maxTickCount,S=e.scale,A=e.max,E=e.transform,T=e.vertical,D=e.format,N=d(e.range,2),L=N[0],P=N[1],O=e.directionMultiplier,U=e.tickOffset,I=e.gridOffset,V=e.spacing,z=d(t.useState(0),2),j=z[0],F=z[1],H=d(t.useContext(_),2),B=H[0],Y=B.gridWidth,W=B.gridHeight,q=B.dark,X=B.axisDimensions,G=H[1],Z=t.useRef(),$=t.useRef(),K=t.useCallback((function(){if(Z.current){var t=Array.apply(void 0,y(Z.current.querySelectorAll(".tickLabel"))).map((function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}})),e=T?W:Y,n=w,r=0,h=0,f=0,d=0,p=1e5;Array.apply(void 0,y(Z.current.querySelectorAll(".tick"))).map((function(t){return t.getBoundingClientRect()})).reduce((function(t,e){if(t){var n=T?e.top-t.top:e.left-t.left;p=n<p?n:p}return e}),!1);var g=t[0]||{width:0,height:0},_=t[t.length-1]||{width:0,height:0},x=s({},g,{_overflow:0});t.forEach((function(t){t._overflow=T?t.height-p:t.width,t._overflow>0&&t._overflow>x._overflow&&(x=t)}));var M=T?x.height:x.width;if(!T&&"ordinal"===a||"auto"!==w){if(!T){var S=Math.min(Math.max(Math.abs(function(t){return t*(180/Math.PI)}(Math.acos(p/(x.width+b)))),0),m);S=Number.isNaN(S)?0:S,(0===(S=Math.ceil(Math.ceil(S/v)*v))||S===m||Math.abs(S)-Math.abs(j)>5)&&F((function(){return"top"===u?-S:S}))}}else n=Math.max(C,Math.min(Math.floor((e+M-b)/(M+2*b)),k));var A=Math.ceil(b/p);$.current!==A&&($.current=A),T?(f=Math.ceil(g.height/2),d=Math.ceil(_.height/2),r=Math.max(c,l)+b+Math.max.apply(Math,[0].concat(y(t.map((function(t){return Math.ceil(t.width)})))))):h=Math.max(c,l)+b+Math.max.apply(Math,[0].concat(y(t.map((function(t){return Math.ceil(t.height)})))));var E={width:r,height:h,top:f,bottom:d,left:0,right:0,tickCount:n};X&&X[u]&&X[u][o]&&!Object.keys(E).some((function(t){return E[t]!==X[u][o][t]}))||G((function(t){return s({},t,{axisDimensions:s({},t.axisDimensions,i({},u,s({},t.axisDimensions[u]||{},i({},o,E))))})}))}else X[u]&&X[u][o]&&G((function(t){var e=t.axisDimensions[u]||{};return delete e[o],s({},t,{axisDimensions:s({},t.axisDimensions,i({},u,e))})}))}),[X,W,Y,o,v,m,k,C,u,j,G,w,b,c,l,a,T]),J=R(j);if(t.useLayoutEffect((function(){J===j&&K()}),[X,o,K,u,J,j]),t.useEffect((function(){J!==j&&K()}),[X,o,K,u,J,j]),!h)return null;n=T?u===ho?"\n        M ".concat(-l,", ").concat(L,"\n        H 0\n        V ").concat(P,"\n        H ").concat(-l,"\n      "):"\n        M ".concat(l,", ").concat(L,"\n        H 0\n        V ").concat(P,"\n        H ").concat(l,"\n      "):"bottom"===u?"\n        M 0, ".concat(l,"\n        V 0\n        H ").concat(P,"\n        V ").concat(l,"\n      "):"\n        M 0, ".concat(-l,"\n        V 0\n        H ").concat(P,"\n        V ").concat(-l,"\n              "),r="boolean"==typeof f?f:"ordinal"!==a;var Q=s({},Wo,{},g);return t.createElement(so,{ref:Z,className:"Axis",style:{pointerEvents:"none",transform:u===co?x.translateX(Y):"bottom"===u?x.translateY(W):void 0}},t.createElement(Qi,{className:"domain",d:n,style:s({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)"},Q.line)}),t.createElement(so,{className:"ticks",style:{}},M.map((function(e,n){return t.createElement(so,{key:[String(e),n].join("_"),className:"tick",style:{transform:E(S(e)||0)}},r&&t.createElement(io,{className:"gridLine",x1:T?0:I,x2:T?A:I,y1:T?I:0,y2:T?I:A,style:s({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),p?t.createElement("g",{className:"labelGroup"},t.createElement(io,{className:"tickline",x1:T?0:U,x2:T?O*c:U,y1:T?U:0,y2:T?U:O*c,style:s({stroke:q?"rgba(255,255,255, .1)":"rgba(0,0,0, .1)",strokeWidth:1},Q.line)}),t.createElement(ao,{className:"tickLabel",style:s({fill:q?"white":"black"},Q.tick,{transform:"".concat(x.translate(T?O*V:U,T?U:O*V)," rotate(").concat(-j,"deg)")}),dominantBaseline:j?"central":"bottom"===u?"hanging":u===uo?"alphabetic":"central",textAnchor:j?"end":u===co?"start":u===ho?"end":"middle"},D(e,n))):null)}))))}function Xo(e){return t.createElement(qo,e)}var Go=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Zo(){var e=d(t.useContext(_),1)[0],n=e.primaryAxes,r=e.secondaryAxes,i=e.gridX,o=e.gridY,a=e.gridWidth,u=e.gridHeight,c=e.dark,l=e.focused,h=e.latestFocused,f=e.getDatumStyle,y=e.tooltip,p=t.useRef(),g=t.useRef(),m=t.useRef(),v=y||{},b=v.align,M=v.alignPriority,w=v.padding,C=v.tooltipArrowPadding,k=v.arrowPosition,S=v.render,A=v.anchor,E=v.show,T=d(t.useState(b||"auto"),2),D=T[0],N=T[1];if(t.useEffect((function(){m.current=E}),[E]),t.useLayoutEffect((function(){if("auto"===b&&p.current&&E&&A){for(var t={left:1/0,top:1/0,right:1/0,bottom:1/0},e=p.current,n=e.getBoundingClientRect(),r=g.current.getBoundingClientRect();e!==document.body;){e=e.parentElement;var i=window.getComputedStyle(e),o=i.overflowX,a=i.overflowY;if(e===document.body||[o,a].find((function(t){return["auto","hidden"].includes(t)}))){var s=e.getBoundingClientRect(),u=n.left-s.left+A.x,c=n.top-s.top+A.y,l=s.width-u,h=s.height-c;t.left=Math.min(t.left,u),t.top=Math.min(t.top,c),t.right=Math.min(t.right,l),t.bottom=Math.min(t.bottom,h)}}var f=null;M.forEach((function(e){if(!f){var n=t.left-C-w-A.horizontalPadding>r.width,i=t.right-C-w-A.horizontalPadding>r.width,o=t.top-C-w-A.verticalPadding>r.height&&t.left>r.width/2,a=t.bottom-C-w-A.verticalPadding>r.height,s=t.left>r.width/2,u=t.right>r.width/2,c=t.top>r.height/2,l=t.bottom>r.height/2;"left"===e?n&&c&&l&&(f=e):"right"===e?i&&c&&l&&(f=e):"top"===e?o&&s&&u&&(f=e):"bottom"===e?a&&s&&u&&(f=e):"topLeft"===e?o&&n&&(f=e):"topRight"===e?o&&i&&(f=e):"bottomLeft"===e?a&&n&&(f=e):"bottomRight"===e&&a&&i&&(f=e)}})),f!==D&&N(f)}}),[b,M,A,D,w,E,C]),!y)return null;var R=l||h,L=0,P=-50,O={},U=Go(c),I=k;"top"===D?(L=-50,P=-100):"topRight"===D?(L=0,P=-100):"right"===D?(L=0,P=-50):"bottomRight"===D?(L=0,P=0):"bottom"===D?(L=-50,P=0):"bottomLeft"===D?(L=-100,P=0):"left"===D?(L=-100,P=-50):"topLeft"===D?(L=-100,P=-100):"center"===D&&(L=-50,P=-50),I||("left"===D?I="right":"right"===D?I="left":"top"===D?I="bottom":"bottom"===D?I="top":"topRight"===D?I="bottomLeft":"bottomRight"===D?I="topLeft":"topLeft"===D?I="bottomRight":"bottomLeft"===D&&(I="topRight")),O="bottom"===I?{top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderTop:"".concat(7,"px solid ").concat(U)}:"top"===I?{top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7,"px solid ").concat(U)}:"right"===I?{top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(7,"px solid ").concat(U)}:"left"===I?{top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(7,"px solid ").concat(U)}:"topRight"===I?{top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(U)}:"bottomRight"===I?{top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderLeft:"".concat(14,"px solid ").concat(U)}:"topLeft"===I?{top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(U)}:"bottomLeft"===I?{top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:"".concat(7*.8,"px solid transparent"),borderBottom:"".concat(7*.8,"px solid transparent"),borderRight:"".concat(14,"px solid ").concat(U)}:{opacity:0};var V,z=x.getAxisByAxisID(n,R?R.series.primaryAxisID:null),j=x.getAxisByAxisID(r,R?R.series.secondaryAxisID:null),F=w+A.horizontalPadding,H=w+A.verticalPadding,B=s({},e,{},e.tooltip,{datum:R,getStyle:function(t){return t.getStatusStyle(R,f)},primaryAxis:z,secondaryAxis:j}),Y=t.createElement(S,B);return m.current===E&&(V=!0),t.createElement("div",{className:"tooltip-wrap",style:{pointerEvents:"none",position:"absolute",left:"".concat(i,"px"),top:"".concat(o,"px"),width:"".concat(a,"px"),height:"".concat(u,"px"),opacity:E?1:0,transition:"all .3s ease"},ref:function(t){p.current=t}},t.createElement("div",{style:{position:"absolute",left:0,top:0,transform:x.translate(A.x,A.y),transition:V?"all .2s ease":"opacity .2s ease"}},t.createElement("div",{style:{transform:"translate3d(".concat(L,"%, ").concat(P,"%, 0)"),padding:"".concat(C+H,"px ").concat(C+F,"px"),width:"auto",transition:"all .2s ease"}},t.createElement("div",{ref:function(t){g.current=t},style:{fontSize:"12px",padding:"5px",background:Go(c),color:c?"black":"white",borderRadius:"3px",position:"relative"}},t.createElement("div",{style:s({position:"absolute",width:0,height:0},O,{transition:V?"all .2s ease":"none"})}),Y))))}var $o=function(t){return t?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},Ko=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Jo(e){var n=e.primary,r=d(t.useContext(_),1)[0],i=r.primaryCursor,o=r.secondaryCursor,a=r.focused,u=r.latestFocused,c=r.gridX,l=r.gridY,h=r.dark,f=a||u,y=n?i:o,p=y||{},g=p.showLine,m=p.showLabel,v=p.resolvedValue,b=p.snap,M=p.render,w=p.axis,C=p.siblingAxis,k=p.resolvedShow,S=N(v,void 0!==v),A=t.useRef();if(t.useEffect((function(){A.current=k}),[k]),!y)return null;var E,T,D,R,L,P,O,U,I=b||"ordinal"===w.type,V=C.scale.range();w.vertical?(T=w.scale(S),D=V[0],R=V[1],L=T-1,P=T+w.cursorSize+1,"left"===w.position?(O=-100,U=-50):(O=0,U=-50)):(D=(E=w.scale(S))-1,R=E+w.cursorSize+1,L=V[0],P=V[1],"top"===w.position?(O=-500,U=-100):(O=-50,U=0));var z=s({},y);z.formattedValue=String((w.vertical,void 0!==S?w.format(w.stacked&&!n&&f?f.totalValue:S):""));var j,F=Math.min(D,R),H=Math.min(L,P),B=Math.max(D,R),Y=Math.max(L,P),W=w.vertical&&w.RTL?B:D+(w.vertical?0:(R-D)/2)+(w.vertical?0:1),q=!w.vertical&&w.RTL?H:L+(w.vertical?(P-L)/2:0)+(w.vertical?1:0),X=Math.max(Y-H,0),G=Math.max(B-F,0);A.current===k&&(j=!0);var Z=M(z);return t.createElement("div",{style:{pointerEvents:"none",position:"absolute",top:0,left:0,transform:x.translate(c,l),opacity:k?1:0,transition:"all .3s ease"},className:"Cursor"},g?t.createElement("div",{style:{position:"absolute",top:0,left:0,transform:x.translate(F,H),width:"".concat(G,"px"),height:"".concat(X,"px"),background:$o(h),transition:I&&j?"all .2s ease":"opacity .2s ease"}}):null,m?t.createElement("div",{style:{position:"absolute",top:0,left:0,transform:x.translate(W,q),transition:I&&j?"all .2s ease":"opacity .2s ease"}},t.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Ko(h),color:Ko(!h),borderRadius:"3px",position:"relative",transform:"translate3d(".concat(O,"%, ").concat(U,"%, 0)"),whiteSpace:"nowrap"}},Z)):null)}function Qo(){var e=d(t.useContext(_),1)[0],n=e.pointer,r=e.brush,i=e.gridX,o=e.gridY,a=e.gridHeight,u=e.dark;return r?t.createElement("div",{className:"Brush",style:{pointerEvents:"none",position:"absolute",left:0,top:0,transform:x.translate(i,o),opacity:n.dragging?Math.abs(n.sourceX-n.x)<20?.5:1:0}},t.createElement("div",{style:s({position:"absolute",transform:x.translate(Math.min(n.x,n.sourceX),0),width:"".concat(Math.abs(n.x-n.sourceX),"px"),height:"".concat(a,"px"),background:u?"rgba(255,255,255,.3)":"rgba(0, 26, 39, 0.3)"},r.style)})):null}var ta=t.forwardRef((function(e,n){var r=e.className,i=e.style,a=void 0===i?{}:i,u=l(e,["className","style"]),c=d(t.useContext(_),1)[0],h=d(t.useContext(_),2),f=h[0],p=f.width,g=f.height,m=f.offset,v=f.gridX,b=f.gridY,M=f.stackData,w=f.primaryAxes,C=f.secondaryAxes,k=f.renderSVG,S=f.onClick,A=f.seriesOptions,E=f.getSeriesOrder,T=f.focused,D=h[1],N=t.useRef();t.useLayoutEffect((function(){if(N.current){var t=N.current.getBoundingClientRect();t.left===m.left&&t.top===m.top||D((function(e){return s({},e,{offset:{left:t.left,top:t.top}})}))}}));var R=t.useRef(),L=function(t){R.current&&B.cancel(R.current),R.current=B((function(){R.current=null;var e=t.clientX,n=t.clientY;D((function(t){var r=e-m.left-v,i=n-m.top-b,o=s({},t.pointer,{active:!0,x:r,y:i,dragging:t.pointer&&t.pointer.down});return s({},t,{pointer:o})}))}))},P=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",L),D((function(t){return s({},t,{pointer:s({},t.pointer,{down:!1,dragging:!1,released:{x:t.pointer.x,y:t.pointer.y}})})}))},O=E(y(M).reverse()),U=T?O.findIndex((function(t){return t.id===T.series.id})):-1,I=(T?[].concat(y(O.slice(0,U)),y(O.slice(U+1)),[O[U]]):O).map((function(e){return t.createElement(e.Component,o({key:e.id},A[e.index],{series:e,stackData:M}))}));return t.createElement("div",o({ref:n},u,{className:"ReactChart ".concat(r||""),style:s({width:p,height:g,position:"relative"},a)}),t.createElement("svg",{ref:N,style:{width:p,height:g,overflow:"hidden"},onMouseEnter:function(t){return t.persist()||L(t)},onMouseMove:function(t){return t.persist()||L(t)},onMouseLeave:function(t){return t.persist()||(D((function(t){return s({},t,{focused:null})})),void D((function(t){return s({},t,{pointer:s({},t.pointer,{active:!1})})})))},onMouseDown:function(t){return t.persist()||(document.addEventListener("mouseup",P),document.addEventListener("mousemove",L),void D((function(t){return s({},t,{pointer:s({},t.pointer,{sourceX:t.pointer.x,sourceY:t.pointer.y,down:!0})})})))},onClick:S},t.createElement("g",{style:{transform:x.translate(v,b)}},t.createElement(W,{x1:-v,x2:p-v,y1:-b,y2:g-b,style:{opacity:0}}),t.createElement(no,null),t.createElement("g",{className:"axes"},[].concat(y(w),y(C)).map((function(e){return t.createElement(Xo,o({key:e.id},e))}))),t.createElement("g",{className:"Series",style:{pointerEvents:"none"}},I)),k?k({chartState:c,setChartState:D}):null),t.createElement(Jo,{primary:!0}),t.createElement(Jo,null),t.createElement(Qo,null),t.createElement(Zo,null))}));function ea(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useRef({style:{},props:{}}),i=t.useRef(),o=n.style,a=void 0===o?{}:o,s=l(n,["style"]);return(x.shallowDiff(r.current.style,a)||x.shallowDiff(r.current.props,s))&&(r.current=n,i.current=e()),i.current}function na(e){var n=d(t.useContext(_),1)[0],r=n.focused,i=n.getSeriesStyle;return e.getStatusStyle(r,i)}function ra(e){var n=d(t.useContext(_),1)[0],r=n.focused,i=n.getDatumStyle;return e.getStatusStyle(r,i)}var ia={r:2,strokeWidth:"1",stroke:"#000000",fill:"#000000",opacity:1};function oa(e){var n=e.x,r=e.y,i=(e.r,e.style),a=l(e,["x","y","r","style"]),u=s({},ia,{},i);return t.createElement("circle",o({},a,{cx:n||0,cy:r||0,r:1,style:u}))}var aa={strokeWidth:2},sa={r:2};function ua(e){var n=e.series,r=e.showPoints,i=e.curve,o=t.useMemo((function(){return ci().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(i)}),[i]),a=t.useMemo((function(){return o(n.datums)}),[o,n.datums]),u=na(n),c={d:a,style:s({},aa,{},u,{},u.line,{fill:"none"})},l=ea((function(){return t.createElement(Qi,c)}),c);return t.useMemo((function(){return t.createElement("g",null,l,r&&n.datums.map((function(e,n){return t.createElement(ca,{key:n,datum:e,style:u})})))}),[l,n.datums,r,u])}function ca(e){var n=e.datum,r=e.style,i=d(t.useContext(_),2)[1],o=ra(n),a={x:n?n.x:void 0,y:n?n.y:void 0,style:s({},sa,{},r,{},r.circle,{},o,{},o.circle),onMouseEnter:function(t){return i((function(t){return s({},t,{element:n})}))},onMouseLeave:function(t){return i((function(t){return s({},t,{element:null})}))}};return ea((function(){return n.defined?t.createElement(oa,a):null}),a)}ua.defaultProps={curve:Bi},ua.plotDatum=function(t,e){var n=e.primaryAxis,r=e.secondaryAxis,i=e.xAxis,o=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=r.scale(t.secondary),t.x=i.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=x.isValidPoint(t.xValue)&&x.isValidPoint(t.yValue),t.base=n.vertical?i.scale(t.baseValue):o.scale(t.baseValue),"ordinal"===i.type&&(t.x+=i.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor]},ua.buildStyles=function(t,e){var n=e.defaultColors,r={color:n[t.index%(n.length-1)]};x.buildStyleGetters(t,r)};var la={r:2};function ha(e){var n=e.series,r=na(n);return t.createElement("g",null,n.datums.map((function(e,n){return t.createElement(fa,{key:n,datum:e,style:r})})))}function fa(e){var n=e.datum,r=e.style,i=ra(n),o=d(t.useContext(_),2)[1],a={x:n?n.x:void 0,y:n?n.y:void 0,style:s({},la,{},void 0!==n.r?{r:n.r}:{},{},r,{},r.circle,{},i,{},i.circle),onMouseEnter:function(t){return o((function(t){return s({},t,{element:n})}))},onMouseLeave:function(t){return o((function(t){return s({},t,{element:null})}))}};return ea((function(){return n.defined?t.createElement(oa,a):null}),a)}ha.plotDatum=function(t,e){var n=e.primaryAxis,r=e.secondaryAxis,i=e.xAxis,o=e.yAxis;t.primaryCoord=n.scale(t.primary),t.secondaryCoord=r.scale(t.secondary),t.x=i.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=x.isValidPoint(t.xValue)&&x.isValidPoint(t.yValue),t.base=n.vertical?i.scale(t.baseValue):o.scale(t.baseValue),"ordinal"===i.type&&(t.x+=i.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y,verticalPadding:t.r,horizontalPadding:t.r},t.boundingPoints=[t.anchor]},ha.buildStyles=function(t,e){var n=e.defaultColors,r={color:n[t.index%(n.length-1)]};x.buildStyleGetters(t,r)};var da={strokeWidth:0},ya={strokeWidth:3};function pa(e){var n=e.series,r=e.showOrphans,i=e.curve,o=t.useMemo((function(){return function(){var t=si,e=null,n=ii(0),r=ui,i=ii(!0),o=null,a=ai,s=null;function u(u){var c,l,h,f,d,y=u.length,p=!1,g=new Array(y),m=new Array(y);for(null==o&&(s=a(d=ri())),c=0;c<=y;++c){if(!(c<y&&i(f=u[c],c,u))===p)if(p=!p)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=l;--h)s.point(g[h],m[h]);s.lineEnd(),s.areaEnd()}p&&(g[c]=+t(f,c,u),m[c]=+n(f,c,u),s.point(e?+e(f,c,u):g[c],r?+r(f,c,u):m[c]))}if(d)return s=null,d+""||null}function c(){return ci().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:ii(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:ii(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:ii(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:ii(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:ii(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ii(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:ii(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}().x((function(t){return t.x})).y0((function(t){return t.base})).y1((function(t){return t.y})).defined((function(t){return t.defined})).curve(i)}),[i]),a=t.useMemo((function(){return ci().x((function(t){return t.x})).y((function(t){return t.y})).defined((function(t){return t.defined})).curve(i)}),[i]),u=t.useMemo((function(){return o(n.datums)}),[o,n.datums]),c=t.useMemo((function(){return a(n.datums)}),[a,n.datums]),l=na(n),h={d:u,style:s({},da,{},l,{},l.line,{},l.area)},f=ea((function(){return t.createElement(Qi,h)}),h),d={d:c,style:s({},da,{},l,{},l.line,{fill:"none"})},y=ea((function(){return t.createElement(Qi,d)}),d);return t.createElement("g",null,f,y,r&&n.datums.map((function(e,n,r){return t.createElement(ga,{key:n,datum:e,style:l,all:r,index:n})})))}pa.defaultProps={showOrphans:!0,curve:ai},pa.plotDatum=function(t,e){var n=e.primaryAxis,r=e.secondaryAxis,i=e.xAxis,o=e.yAxis;r.scale.clamp(!0),t.primaryCoord=n.scale(t.primary),t.secondaryCoord=r.scale(t.secondary),t.x=i.scale(t.xValue),t.y=o.scale(t.yValue),t.defined=x.isValidPoint(t.xValue)&&x.isValidPoint(t.yValue),t.base=n.vertical?i.scale(t.baseValue):o.scale(t.baseValue),r.scale.clamp(!1),"ordinal"===i.type&&(t.x+=i.tickOffset),"ordinal"===o.type&&(t.y+=o.tickOffset),t.anchor={x:t.x,y:t.y},t.boundingPoints=[t.anchor,{x:n.vertical?"left"===n.position?t.base-1:t.base:t.anchor.x,y:n.vertical?t.anchor.y:"bottom"===n.position?t.base-1:t.base}]},pa.buildStyles=function(t,e){var n=e.defaultColors,r={color:n[t.index%(n.length-1)]};x.buildStyleGetters(t,r)};var ga=function(e){var n=e.datum,r=e.style,i=e.all,o=e.index,a=i[o-1]||{defined:!1},u=i[o+1]||{defined:!1},c=ra(n),l={x1:!n||Number.isNaN(n.x)?null:n.x,y1:!n||Number.isNaN(n.base)?null:n.base,x2:!n||Number.isNaN(n.x)?null:n.x,y2:!n||Number.isNaN(n.y)?null:n.y,style:s({},ya,{},r,{},r.line,{},c,{},c.line)};return ea((function(){return!n.defined||a.defined||u.defined?null:t.createElement(io,l)}),l)};function ma(e){var n=e.series,r=d(t.useContext(_),1)[0].primaryAxes,i=na(n),a=(n.primaryAxisID?r.find((function(t){return t.id===n.primaryAxisID})):r[0]).barOffset;return t.createElement("g",{className:"series bar"},n.datums.map((function(e,n){return t.createElement(_a,o({key:n},{datum:e,barOffset:a,style:i}))})))}function _a(e){var n,r,i,o,a=e.datum,u=e.barOffset,c=e.style,l=d(t.useContext(_),2),h=l[0].primaryAxes,f=l[1],y=a?a.x:0,p=a?a.y:0,g=a?a.base:0,m=a?a.size:0;h.find((function(t){return t.vertical}))?(n=g,i=y,o=(r=p+u)+m):(i=(n=y+u)+m,r=p,o=g);var x=ra(a),v={style:s({pointerEvents:"all"},c,{},c.rectangle,{},x,{},x.rectangle),x1:Number.isNaN(n)?null:n,y1:Number.isNaN(r)?null:r,x2:Number.isNaN(i)?null:i,y2:Number.isNaN(o)?null:o,onMouseEnter:function(t){return f((function(t){return s({},t,{element:a})}))},onMouseLeave:function(t){return f((function(t){return s({},t,{element:null})}))}};return ea((function(){return t.createElement(W,v)}),v)}ma.plotDatum=function(t,e){var n=e.xAxis,r=e.yAxis,i=e.primaryAxis,o=e.secondaryAxis;if(o.scale.clamp(!0),t.primaryCoord=i.scale(t.primary),t.secondaryCoord=o.scale(t.secondary),t.x=n.scale(t.xValue),t.y=r.scale(t.yValue),t.defined=x.isValidPoint(t.xValue)&&x.isValidPoint(t.yValue),t.base=o.scale(t.baseValue),t.size=i.barSize,o.scale.clamp(!1),!o.stacked){t.size=i.seriesBarSize;var a=i.seriesBandScale(t.seriesTypeIndex);o.vertical?t.x+=a:t.y+=a}t.anchor={x:t.x,y:t.y,horizontalPadding:o.vertical?t.size/2:0,verticalPadding:o.vertical?0:t.size/2},i.vertical?t.anchor.y+="ordinal"!==i.type?0:t.size/2:t.anchor.x+="ordinal"!==i.type?0:t.size/2,t.boundingPoints=[t.anchor,{x:i.vertical?"left"===i.position?t.base+1:t.base:t.anchor.x,y:i.vertical?t.anchor.y:"bottom"===i.position?t.base-1:t.base}]},ma.buildStyles=function(t,e){var n=e.defaultColors,r={color:n[t.index%(n.length-1)]};x.buildStyleGetters(t,r)};var xa,va={line:ua,bubble:ha,area:pa,bar:ma},ba={type:"line",showPoints:!0,showOrphans:!0,curve:Bi},Ma=(i(xa={},"linear",(function t(){var e=ze();return e.copy=function(){return Ie(e,t())},zt.apply(e,arguments),tn(e)})),i(xa,"log",(function t(){var e=cn(Ve()).domain([1,10]);return e.copy=function(){return Ie(e,t()).base(e.base())},zt.apply(e,arguments),e})),i(xa,"time",(function(){return zt.apply(Jr(wn,Mn,xn,mn,gn,pn,yn,dn,In).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)})),i(xa,"utc",(function(){return zt.apply(Jr(Rn,Nn,En,Sn,kn,Cn,yn,dn,Vn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)})),i(xa,"ordinal",Ht),xa);function wa(t){var e=t.axis,n=e.primary,r=e.type,i=e.invert,o=e.position,a=e.primaryAxisID,s=e.min,u=void 0===s?void 0:s,c=e.max,l=void 0===c?void 0:c,h=e.hardMin,f=void 0===h?void 0:h,d=e.hardMax,p=void 0===d?void 0:d,g=e.base,m=void 0===g?void 0:g,_=e.tickCount,v=void 0===_?"auto":_,b=e.minTickCount,M=void 0===b?0:b,w=e.maxTickCount,C=void 0===w?1/0:w,k=e.tickValues,S=void 0===k?null:k,A=e.format,E=void 0===A?null:A,T=e.tickSizeInner,D=void 0===T?6:T,N=e.tickSizeOuter,R=void 0===N?6:N,L=e.tickPadding,P=void 0===L?14:L,O=e.maxLabelRotation,U=void 0===O?50:O,I=e.labelRotationStep,V=void 0===I?5:I,z=e.innerPadding,j=void 0===z?.2:z,F=e.outerPadding,H=void 0===F?.1:F,B=e.showGrid,Y=void 0===B?null:B,W=e.showTicks,q=void 0===W||W,X=e.show,G=void 0===X||X,Z=e.stacked,$=void 0!==Z&&Z,K=e.id,J=t.materializedData,Q=t.gridHeight,tt=t.gridWidth;t.axisDimensions;if(!o)throw new Error("Chart axes must have a valid 'position' property");for(var et,nt,rt,it=n?"primary":"secondary",ot=!n&&"primary",at="".concat(it,"AxisID"),st=function(t){return[ho,co].indexOf(t)>-1}(o),ut=function(t){return[uo,co].indexOf(t)>-1}(o),ct=K||"".concat(o,"_").concat(r),lt=[],ht={},ft={},dt=0;dt<J.length;dt++)if(!J[dt][at]||J[dt][at]===ct)for(var yt=0;yt<J[dt].datums.length;yt++){var pt=J[dt].datums[yt],gt=void 0,mt=ot?pt[ot]:yt;"ordinal"===r?-1===lt.indexOf()&&lt.push(J[dt].datums[yt][it]):gt="time"===r||"utc"===r?+pt[it]:pt[it],$?gt>0?ft[mt]=void 0!==ft[mt]?ft[mt]+gt:gt:ht[mt]=void 0!==ht[mt]?ht[mt]+gt:gt:(et=void 0!==et?Math.min(et,gt):gt,nt=void 0!==nt?Math.max(nt,gt):gt)}rt="ordinal"===r?lt:$?[Math.min.apply(Math,[0].concat(y(Object.values(ht)))),Math.max.apply(Math,[0].concat(y(Object.values(ft))))]:[et,nt];var _t,xt,vt=[0,st?Q:tt];st&&!n&&vt.reverse();var bt=0,Mt=0,wt=0,Ct=function(t){return t},kt=1;("ordinal"===r||n)&&((xt=Ht().domain(J.reduce((function(t,e){return e.datums.length>t.length?e.datums:t}),[]).map((function(t){return t.primary}))).rangeRound(vt,.1).padding(0)).paddingOuter(H).paddingInner(j),bt=xt.bandwidth(),"ordinal"===r&&(Mt=bt),wt=xt.step(),kt=(Ct=Ht().paddingInner(j/2).domain(J.filter((function(t){return t.Component===ma})).map((function(t,e){return e}))).rangeRound([0,bt])).bandwidth()),_t="ordinal"===r?xt:Ma[r](),"number"==typeof m&&(rt[0]=Math.min(rt[0],m),rt[1]=Math.max(rt[1],m)),"number"==typeof defaultMin&&(rt[0]=Math.min(rt[0],u)),"number"==typeof defaultMax&&(rt[1]=Math.max(rt[1],l)),_t.domain(rt),"ordinal"!==r&&_t.nice(),"number"==typeof f&&_t.domain([f,_t.domain()[1]]),"number"==typeof p&&_t.domain([_t.domain()[0],p]),i&&_t.domain(y(_t.domain()).reverse()),_t.range(vt);var St=_t.tickFormat?_t.tickFormat():x.identity,At=E?function(){return E(St.apply(void 0,arguments))}:St,Et={id:ct,primary:n,type:r,invert:i,position:o,primaryAxisID:a,hardMin:f,hardMax:p,base:m,tickCount:v,minTickCount:M,maxTickCount:C,tickValues:S,tickSizeInner:D,tickSizeOuter:R,tickPadding:P,maxLabelRotation:U,labelRotationStep:V,innerPadding:j,outerPadding:H,showGrid:Y,showTicks:q,show:G,stacked:$,scale:_t,uniqueVals:lt,vertical:st,RTL:ut,barSize:bt,cursorSize:Mt,stepSize:wt,seriesBandScale:Ct,seriesBarSize:kt,domain:rt,range:vt,max:"bottom"===o?-Q:o===ho?tt:o===uo?Q:-tt,directionMultiplier:o===uo||o===ho?-1:1,transform:st?x.translateY:x.translateX,ticks:S||_t.ticks?_t.ticks():_t.domain(),format:At,spacing:Math.max(D,0)+P};return"ordinal"===r?(Et.gridOffset=-Et.stepSize*j/2,Et.tickOffset=Et.barSize/2,Et.barOffset=0):(Et.tickOffset=0,Et.barOffset=-Et.barSize/2),Et}function Ca(t){return wa(t)}var ka=["#4ab5eb","#fc6868","#DECF3F","#60BD68","#FAA43A","#c63b89","#1aaabe","#734fe9","#1828bd","#cd82ad"];function Sa(e){var n=e.datum,r=e.grouping,i=e.primaryAxis,o=e.secondaryAxis,a=e.formatSecondary,u=e.formatTertiary,c=e.getStyle,l=e.dark;if(!n)return null;var h=u||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t},f=y(n.group).sort((function(t,e){if(!i.stacked&&r===yo||r===go){if(t.primaryCoord>e.primaryCoord)return-1;if(t.primaryCoord<e.primaryCoord)return 1}else if(!o.stacked){if(t.secondaryCoord>e.secondaryCoord)return-1;if(t.secondaryCoord<e.secondaryCoord)return 1}return t.seriesIndex>e.seriesIndex?1:-1}));r===po&&f.reverse(),o.invert&&f.reverse();var d=f.length,p=f.findIndex((function(t){return t===n})),g=p>-1?p-5:0;g=Math.max(g,0);var m=p>-1?g+10:d;m=Math.min(m,d),g=Math.max(m-10,0);var _=f.slice(g,m),x=g>0,v=m<d;return t.createElement("div",null,t.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},r===yo?t.createElement("strong",null,n.seriesLabel):r===go?t.createElement("strong",null,n.secondaryAxis.format(n.secondary)):t.createElement("strong",null,n.primaryAxis.format(n.primary))),t.createElement("table",{style:{whiteSpace:"nowrap"}},t.createElement("tbody",null,x?t.createElement("tr",{style:{opacity:.8}},t.createElement("td",null),t.createElement("td",null,"..."),t.createElement("td",null)):null,_.map((function(e,o){var u=e===n,f=function(t,e){return e||t.secondaryAxis.format||function(t){return Math.floor(t)<t?Math.round(100*t)/100:t}}(e,a);return t.createElement("tr",{key:o,style:{opacity:u?1:.8,fontWeight:u&&"bold"}},t.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginRight:"5px"}},t.createElement("svg",{width:"16",height:"16"},t.createElement("circle",{cx:"8",cy:"8",r:"7",style:s({},c(e),{stroke:l?"black":"white",strokeWidth:u?2:1})}))),r===yo?t.createElement(t.Fragment,null,t.createElement("td",null,i.format(e.primary),":  "),t.createElement("td",{style:{textAlign:"right"}},f(e.secondary),e.r?" (".concat(h(e.r),")"):null)):r===go?t.createElement(t.Fragment,null,t.createElement("td",null,e.seriesLabel,":  "),t.createElement("td",{style:{textAlign:"right"}},i.format(e.primary),e.r?" (".concat(h(e.r),")"):null)):t.createElement(t.Fragment,null,t.createElement("td",null,e.seriesLabel,":  "),t.createElement("td",{style:{textAlign:"right"}},f(e.secondary),e.r?" (".concat(h(e.r),")"):null)))})),v?t.createElement("tr",{style:{opacity:.8}},t.createElement("td",null),t.createElement("td",null,"..."),t.createElement("td",null)):null,o&&o.stacked&&n.group.length>1?t.createElement("tr",null,t.createElement("td",{style:{paddingTop:"5px"}},t.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:l?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),t.createElement("td",{style:{paddingTop:"5px"}},"Total:  "),t.createElement("td",{style:{paddingTop:"5px"}},o.format(y(n.group).reverse()[0].totalValue))):null)))}var Aa={render:function(e){var n=e.formattedValue;return t.createElement("span",null,n)},snap:!0,showLine:!0,showLabel:!0,axisID:void 0,onChange:function(){}},Ea={getDatums:function(t){return Array.isArray(t)?t:t.datums||t.data},getLabel:function(t,e){return t.label||"Series ".concat(e+1)},getSeriesID:function(t,e){return e},getPrimary:function(t){return Array.isArray(t)?t[0]:t.primary||t.x},getSecondary:function(t){return Array.isArray(t)?t[1]:t.secondary||t.y},getR:function(t){return Array.isArray(t)?t[2]:t.radius||t.r},getPrimaryAxisID:function(t){return t.primaryAxisID},getSecondaryAxisID:function(t){return t.secondaryAxisID},getSeriesStyle:function(t){return{color:t.originalSeries.color}},getDatumStyle:function(){return{}},getSeriesOrder:function(t){return t},onHover:function(){},grouping:po,focus:"auto",showVoronoi:!1};function Ta(e){var n=e.data,r=e.grouping,i=e.focus,a=e.showVoronoi,u=e.dark,c=e.series,h=e.axes,f=e.primaryCursor,p=e.secondaryCursor,g=e.tooltip,m=e.brush,v=e.renderSVG,b=e.getDatums,M=e.getLabel,w=e.getSeriesID,C=e.getPrimary,k=e.getSecondary,S=e.getR,A=e.getPrimaryAxisID,E=e.getSecondaryAxisID,L=e.getSeriesStyle,P=e.getDatumStyle,O=e.onClick,U=e.onFocus,I=e.onHover,V=e.getSeriesOrder,z=l(e,["data","grouping","focus","showVoronoi","dark","series","axes","primaryCursor","secondaryCursor","tooltip","brush","renderSVG","getDatums","getLabel","getSeriesID","getPrimary","getSecondary","getR","getPrimaryAxisID","getSecondaryAxisID","getSeriesStyle","getDatumStyle","onClick","onFocus","onHover","getSeriesOrder"]),j=d(t.useState({focused:null,element:null,axisDimensions:{},padding:{},offset:{},pointer:{}}),2),F=j[0],H=F.focused,B=F.element,Y=F.axisDimensions,W=F.offset,q=F.padding,X=F.pointer,G=j[1],Z=D(O),$=D(U),K=D(I),J=t.useRef(),Q=T(J),tt=Q.width,et=Q.height,nt=function(e){var n=e.data,r=e.getSeriesID,i=e.getLabel,o=e.getPrimaryAxisID,a=e.getSecondaryAxisID,s=e.getDatums,u=e.getPrimary,c=e.getSecondary,l=e.getR;return t.useMemo((function(){for(var t=[],e=0;e<n.length;e++){for(var h=n[e],f=r(h,e,n),d=i(h,e,n),y=o(h,e,n),p=a(h,e,n),g=s(h,e,n),m=[],_=0;_<g.length;_++){var x=g[_];m[_]={originalSeries:h,seriesIndex:e,seriesID:f,seriesLabel:d,index:_,originalDatum:x,primary:u(x,_,h,e,n),secondary:c(x,_,h,e,n),r:l(x,_,h,e,n)}}t[e]={originalSeries:h,index:e,id:f,label:d,primaryAxisID:y,secondaryAxisID:p,datums:m}}return t}),[n,s,i,u,o,l,c,a,r])}({data:n,getSeriesID:w=t.useCallback(x.normalizeGetter(w),[w]),getLabel:M=t.useCallback(x.normalizeGetter(M),[M]),getPrimaryAxisID:A=t.useCallback(x.normalizeGetter(A),[A]),getSecondaryAxisID:E=t.useCallback(x.normalizeGetter(E),[E]),getDatums:b=t.useCallback(x.normalizeGetter(b),[b]),getPrimary:C=t.useCallback(x.normalizeGetter(C),[C]),getSecondary:k=t.useCallback(x.normalizeGetter(k),[k]),getR:S=t.useCallback(x.normalizeGetter(S),[S])}),rt=function(e){var n=e.materializedData,r=e.series;return t.useMemo((function(){return n.map((function(t,e){var n=s({},ba,{},"function"==typeof r?r(t,e):r),i=n.type,o=l(n,["type"]),a=va[i];if(!a)throw new Error("Could not find a registered series type for ".concat(i));return s({},o,{type:i,renderer:a})}))}),[n,r])}({materializedData:nt,series:c});nt=function(e){var n=e.materializedData,r=e.seriesOptions;return t.useMemo((function(){return n.map((function(t,e){return t.Component=r[e].renderer,t})).map((function(t,e,n){var r=n.filter((function(n,r){return r<e&&n.Component===t.Component})).length;return s({},t,{seriesTypeIndex:r,datums:t.datums.map((function(t){return s({},t,{seriesTypeIndex:r})}))})}))}),[n,r])}({materializedData:nt,seriesOptions:rt});var it=function(e){var n=e.width,r=e.height,i=e.axisDimensions,o=e.padding,a=e.offset;a=t.useMemo((function(){return{left:a.left||0,top:a.top||0}}),[a]);var s=t.useMemo((function(){var t=i.left&&x.sumObjBy(i.left,"width")||0,e=i.left&&x.sumObjBy(i.left,"top")||0,a=i.left&&x.sumObjBy(i.left,"bottom")||0,s=i.right&&x.sumObjBy(i.right,"width")||0,u=i.right&&x.sumObjBy(i.right,"top")||0,c=i.right&&x.sumObjBy(i.right,"bottom")||0,l=i.top&&x.sumObjBy(i.top,"height")||0,h=i.top&&x.sumObjBy(i.top,"left")||0,f=i.top&&x.sumObjBy(i.top,"right")||0,d=i.bottom&&x.sumObjBy(i.bottom,"height")||0,y=i.bottom&&x.sumObjBy(i.bottom,"left")||0,p=i.bottom&&x.sumObjBy(i.bottom,"right")||0,g=o.left||0,m=o.right||0,_=o.top||0,v=o.bottom||0;return{gridX:g+Math.max(t,h,y),gridY:_+Math.max(l,e,u),gridWidth:n-g-m-Math.max(t,h,y)-Math.max(s,f,p),gridHeight:r-_-v-Math.max(l,e,u)-Math.max(d,a,c)}}),[n,r,i,o]),u=s.gridX,c=s.gridY,l=s.gridWidth,h=s.gridHeight;return{offset:a,gridX:u,gridY:c,gridWidth:l,gridHeight:h}}({width:tt,height:et,axisDimensions:Y,padding:q,offset:W}),ot=it.offset,at=it.gridX,st=it.gridY,ut=it.gridWidth,ct=it.gridHeight,lt=function(e){var n=e.axes,r=e.materializedData,i=e.gridHeight,o=e.gridWidth,a=e.axisDimensions,s=n.filter((function(t){return t.primary})),u=n.filter((function(t){return!t.primary})),c=JSON.stringify(s),l=JSON.stringify(u),h=t.useMemo((function(){return s.map((function(t,e){return Ca({axis:t,materializedData:r,gridWidth:o,gridHeight:i,axisDimensions:a})}))}),[c,r,i,o]),f=t.useMemo((function(){return u.map((function(t,e){return Ca({axis:t,primaryAxes:h,materializedData:r,gridWidth:o,gridHeight:i,axisDimensions:a})}))}),[l,r,i,o]),d=h.find((function(t){return t.vertical}))?"secondary":"primary",y=h.find((function(t){return t.vertical}))?"primary":"secondary",p=h.find((function(t){return t.vertical}))?f:h,g=h.find((function(t){return t.vertical}))?h:f;return{primaryAxes:h,secondaryAxes:f,xKey:d,yKey:y,xAxes:p,yAxes:g}}({axes:h,materializedData:nt,gridHeight:ct,gridWidth:ut,axisDimensions:Y}),ht=lt.primaryAxes,ft=lt.secondaryAxes,dt=lt.xKey,yt=lt.yKey,pt=lt.xAxes,gt=lt.yAxes,mt=function(e){var n=e.materializedData,r=e.primaryAxes,i=e.secondaryAxes,o=e.yAxes,a=e.yKey,u=e.xAxes,c=e.xKey,l=e.grouping;return t.useMemo((function(){if(!r.length||!i.length)throw new Error("A primary and secondary axis is required!");var t=i.map((function(){return{}}));n.forEach((function(e){var n=x.getAxisIndexByAxisID(i,e.secondaryAxisID);e.datums.forEach((function(e){t[n][e.primary]={negative:0,positive:0}}))}));var e=n.map((function(e){var n=x.getAxisIndexByAxisID(r,e.primaryAxisID),o=r[n],u=x.getAxisIndexByAxisID(i,e.secondaryAxisID),l=i[u];return s({},e,{primaryAxis:o,secondaryAxis:l,datums:e.datums.map((function(e){var n=s({},e,{primaryAxis:o,secondaryAxis:l,xValue:e[c],yValue:e[a],baseValue:0});if(l.stacked){var r=t[u][e.primary];if(o.vertical){var i=x.isValidPoint(n.xValue),h=n.xValue>=0?"positive":"negative";n.baseValue=r[h],n.totalValue=n.baseValue+(i?n.xValue:0),t[u][e.primary][h]=n.totalValue,n.xValue=i?n.totalValue:null}else{var f=x.isValidPoint(n.yValue),d=n.yValue>=0?"positive":"negative";n.baseValue=r[d],n.totalValue=n.baseValue+(f?n.yValue:0),t[u][e.primary][d]=n.totalValue,n.yValue=f?n.totalValue:null}}return n}))})}));if(e.forEach((function(t){t.datums.forEach((function(e){e.series=t}))})),e.forEach((function(t,e){if(!t.Component.plotDatum)throw new Error("Could not find a [SeriesType].plotDatum() static method for the series Component above (index: ".concat(e,")"));var n=x.getAxisIndexByAxisID(r,t.primaryAxisID),s=x.getAxisIndexByAxisID(i,t.secondaryAxisID),l=r[n],h=i[s],f=x.getAxisIndexByAxisID(u,t["".concat(c,"AxisID")]),d=x.getAxisIndexByAxisID(o,t["".concat(a,"AxisID")]),y=u[f],p=o[d];t.datums=t.datums.map((function(e){return t.Component.plotDatum(e,{primaryAxis:l,secondaryAxis:h,xAxis:y,yAxis:p})||e}))})),[fo,yo].includes(l))for(var h=0;h<e.length;h++)for(var f=e[h],d=0;d<f.datums.length;d++){var y=f.datums[d];y.group=l===yo?y.series.datums:[y]}else if([po,go].includes(l)){for(var p={},g=0;g<e.length;g++)for(var m=e[g],_=0;_<m.datums.length;_++){var v=m.datums[_];if(v.defined){var b=String(l===po?v.primary:v.secondary);p[b]=p[b]||[],p[b].push(v)}}for(var M=0;M<e.length;M++)for(var w=e[M],C=0;C<w.datums.length;C++){var k=w.datums[C],S=String(l===po?k.primary:k.secondary);k.group=p[S]}}return e=e.map((function(t,e){if(!t.Component.buildStyles)throw new Error("Could not find a SeriesType.buildStyles() static method for the series Component above (index: ".concat(e,")"));return t.Component.buildStyles(t,{defaultColors:ka})||t}))}),[r,i,n,l,c,a,u,o])}({materializedData:nt,primaryAxes:ht,secondaryAxes:ft,yAxes:gt,yKey:yt,xAxes:pt,xKey:dt,grouping:r});X=t.useMemo((function(){return s({},X,{axisValues:[].concat(y(ht),y(ft)).map((function(t){return{axis:t,value:t.scale.invert?t.scale.invert(X[t.vertical?"y":"x"]):null}}))})}),[X,ht,ft]);var _t=N(H=t.useMemo((function(){if(H||B){var t=i;if("auto"===i&&(t=B?"element":"closest"),"element"===t&&B)return B;if("closest"===t)return x.getClosestPoint(X,H.group)}return null}),[B,i,H,X]),H);g=function(e){var n=e.focused,r=e.tooltip,i=e.pointer,o=e.gridWidth,a=e.gridHeight;return t.useMemo((function(){if(!r)return null;r=s({align:"auto",alignPriority:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:5,tooltipArrowPadding:7,anchor:"closest",render:Sa,onChange:function(){}},r);var t={},e=!0;if(n?t=n.anchor:e=!1,"pointer"===r.anchor)t=i;else if("closest"===r.anchor);else if(n){var u=Array.isArray(r.anchor)?y(r.anchor):[r.anchor];t=x.getMultiAnchor({anchor:u,points:n.group,gridWidth:o,gridHeight:a})}return t=t?s({horizontalPadding:t.horizontalPadding||0,verticalPadding:t.verticalPadding||0},t):t,s({},r,{anchor:t,show:e})}),[n,a,o,i,r])}({focused:H,tooltip:g,pointer:X,gridWidth:ut,gridHeight:ct});var xt=d(function(e){var n=e.primaryCursor,r=e.secondaryCursor,i=e.primaryAxes,o=e.secondaryAxes,a=e.focused,u=e.pointer,c=e.gridWidth,l=e.gridHeight,h=e.stackData;return[n,r].map((function(e,n){var r=e&&e.value;return t.useMemo((function(){if(e){var t,r=0===n;e=s({},Aa,{},e,{primary:r});var h=!1,f=x.getAxisByAxisID(r?i:o,e.axisID||a?a.series[r?"primaryAxisID":"secondaryAxisID"]:void 0),d=r?o[0]:i[0],y=f.scale.invert||function(t){return t};if(u.active){var p=u.x,g=u.y;h=!(p<-1||p>c+1||g<-1||g>l+1),"ordinal"===f.type||e.snap?a?t=f.vertical?a.yValue:a.xValue:h=!1:t=f.vertical?y(g):y(p)}else h=!1;var m=h,_=t;return void 0!==e.value&&null!==e.value&&(_=e.value,m=void 0===e.show||e.show,void 0===f.scale(_)&&(m=!1)),s({},e,{axis:f,siblingAxis:d,show:h,value:t,resolvedShow:m,resolvedValue:_})}}),[h,u,r])}))}({primaryCursor:f,secondaryCursor:p,primaryAxes:ht,secondaryAxes:ft,focused:H,pointer:X,gridWidth:ut,gridHeight:ct,stackData:mt}),2);f=xt[0],p=xt[1],t.useEffect((function(){$.current&&$.current(H)}),[$,H]),t.useEffect((function(){K.current&&K.current(X)}),[K,X]);var vt=R(X.dragging);t.useEffect((function(){if(m&&vt&&!X.dragging){if(Math.abs(X.sourceX-X.x)<20)return;m.onSelect({pointer:X.released,start:ht[0].scale.invert(X.sourceX),end:ht[0].scale.invert(X.x)})}}),[m,X,X.released,X.sourceX,X.x,vt,ht]);var bt=t.useMemo((function(){return{focused:H,latestFocused:_t,pointer:X,tooltip:g,axisDimensions:Y,offset:ot,padding:q,width:tt,height:et,brush:m,grouping:r,showVoronoi:a,materializedData:nt,stackData:mt,primaryAxes:ht,secondaryAxes:ft,primaryCursor:f,secondaryCursor:p,gridX:at,gridY:st,gridWidth:ut,gridHeight:ct,dark:u,renderSVG:v,xKey:dt,yKey:yt,xAxes:pt,yAxes:gt,onClickRef:Z,getSeriesStyle:L,getDatumStyle:P,seriesOptions:rt,getSeriesOrder:V}}),[Y,m,u,H,P,V,L,ct,ut,at,st,r,et,_t,nt,ot,Z,q,X,ht,f,v,ft,p,rt,a,mt,g,tt,pt,dt,gt,yt]),Mt=t.useMemo((function(){return[bt,G]}),[bt,G]);return t.createElement(_.Provider,{value:Mt},t.createElement(ta,o({ref:J},z,{onClick:function(t){Z.current&&Z.current(H)}})))}Ta.defaultProps=Ea;export{Ta as Chart,mo as alignAuto,ko as alignBottom,wo as alignBottomLeft,vo as alignBottomRight,bo as alignLeft,_o as alignRight,Co as alignTop,Mo as alignTopLeft,xo as alignTopRight,Oo as anchorBottom,Lo as anchorCenter,Ro as anchorClosest,zo as anchorGridBottom,jo as anchorGridLeft,Fo as anchorGridRight,Vo as anchorGridTop,Uo as anchorLeft,No as anchorPointer,Io as anchorRight,Po as anchorTop,To as axisTypeLinear,Do as axisTypeLog,So as axisTypeOrdinal,Ao as axisTypeTime,Eo as axisTypeUtc,di as curveBasis,pi as curveBasisClosed,mi as curveBasisOpen,xi as curveBundle,Mi as curveCardinal,Ci as curveCardinalClosed,Si as curveCardinalOpen,Ti as curveCatmullRom,Ni as curveCatmullRomClosed,Li as curveCatmullRomOpen,ai as curveLinear,Oi as curveLinearClosed,Bi as curveMonotoneX,Yi as curveMonotoneY,Xi as curveNatural,Zi as curveStep,Ki as curveStepAfter,$i as curveStepBefore,Ho as focusAuto,Bo as focusClosest,Yo as focusElement,po as groupingPrimary,go as groupingSecondary,yo as groupingSeries,fo as groupingSingle,lo as positionBottom,ho as positionLeft,co as positionRight,uo as positionTop};
//# sourceMappingURL=react-charts.min.mjs.map
